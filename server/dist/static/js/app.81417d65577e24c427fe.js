webpackJsonp([1],{0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){},"4Vh3":function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},"6ZSt":function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"8YCc":function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},G3k4:function(e,t){},KYqO:function(e,t){e.exports={_from:"elliptic@6.5.3",_id:"elliptic@6.5.3",_inBundle:!1,_integrity:"sha512-IMqzv5wNQf+E6aHeIqATs0tOLeOTwj1QKbRcS3jBbYkl5oLAserA8yJTT7/VyHUYG91PRmPyeQDObKLPpeS4dw==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.5.3",name:"elliptic",escapedName:"elliptic",rawSpec:"6.5.3",saveSpec:null,fetchSpec:"6.5.3"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.3.tgz",_shasum:"cb59eb2efdaf73a0bd78ccd7015a62ad6e0f93d6",_spec:"elliptic@6.5.3",_where:"/Users/zengqingfu/web/aosystem/webApp/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.8",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.10.3",mocha:"^6.2.2"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.3"}},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),i={data:function(){return{public:[],comtitle:"BigMind 大迈"}},mounted:function(){(window.location.href.match("mdjz")||window.location.href.match("3100"))&&(this.comtitle="迈动")},methods:{exitloign:function(){sessionStorage.clear(),window.location.href.match("login")||this.$router.push("/login")}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-container",[a("router-view",{attrs:{name:"Nav"}}),e._v(" "),a("el-container",[a("el-header",{staticStyle:{"text-align":"left","background-color":"#2396F0",color:"#fff"}},[a("span",{staticClass:"titlebox"},[e._v(e._s(e.comtitle))]),e._v(" "),a("span",{staticStyle:{float:"right",cursor:"pointer"},on:{click:function(t){return e.exitloign()}}},[e._v("退出登录")])]),e._v(" "),a("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[a("router-view",{attrs:{name:"content"}})],1)],1)],1)],1)},staticRenderFns:[]};var r={name:"Appweb",components:{index:a("VU/8")(i,l,!1,function(e){a("eyf3")},null,null).exports},methods:{fatherMethod:function(){}}},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("index")],1)},staticRenderFns:[]};var s=a("VU/8")(r,n,!1,function(e){a("G3k4")},null,null).exports,c=a("/ocq"),u={data:function(){return{tableData_s:[],table:[],inputData:"",contentsint:"",contentsintp:"",Customerlist:[],tableData:[],optionsproject:[],dialogTableVisible:!1,dialogFormVisible:!1,form:{projectName:"",projectContent:"",CustomerName:"",ContractAmount:"",ContractDate:"",ExpenditureBudget:""},formexpenditureData:[],formReceivables:[],rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],ContractDate:[{required:!0,message:"请选择签约日期",trigger:"blur"}]}}},props:{map:{}},watch:{},mounted:function(){this.getdata(),this.getFormData("customerlist")},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){console.log(this.form)},postData:function(){var e=this;return this.jsondata.postData("projectlist",this.form).then(function(t){"OK"===t.statusText&&(e.getdata(),e.dialogFormVisible=!1)}).catch(function(e){console.log(e)}),!1},handle:function(e,t,a){this.$router.push("/ProjectDetails/"+e.id),console.log(e.id)},getFormData:function(e){var t=this;this.jsondata.getData(e).then(function(e){t.optionsproject=e.data}).catch(function(e){console.log(e)})},getdata:function(e){var t=this;return this.tableData=[],this.jsondata.getDataClass("projectlist","0","complete").then(function(a){e?a.data.filter(function(a){a.ContractDate.includes(e)&&t.tableData.push(a)}):t.tableData=a.data,t.jsondata.getData("receivables").then(function(e){t.jsondata.getData("revenuecontract").then(function(a){t.jsondata.getData("expenditure").then(function(o){t.jsondata.getData("expendituredata").then(function(i){for(var l=0;l<t.tableData.length;l++){t.tableData[l].Receivables=0,t.tableData[l].expenditure=0,t.tableData[l].Receivablesend=0,t.tableData[l].ExpenditureBudget=0;for(var r=0;r<a.data.length;r++)for(var n=0;n<e.data.length;n++)a.data[r].id===e.data[n].projectId&&Number(a.data[r].projectId)===Number(t.tableData[l].id)&&(t.tableData[l].Receivables+=Number(e.data[n].Receivables));for(var s=0;s<o.data.length;s++){o.data[s].expenditure=0,t.tableData[l].id===o.data[s].projectId&&(t.tableData[l].ExpenditureBudget+=Number(o.data[s].number));for(var c=0;c<i.data.length;c++)o.data[s].id===i.data[c].projectId&&Number(o.data[s].projectId)===Number(t.tableData[l].id)&&(o.data[s].expenditure+=Number(i.data[c].Receivables));"不分期"===o.data[s].Receivableslist&&Number(o.data[s].projectId)===Number(t.tableData[l].id)?t.tableData[l].expenditure+=Number(o.data[s].Receivables):t.tableData[l].expenditure+=o.data[s].expenditure}t.tableData[l].profit=(Number(t.tableData[l].ContractAmount)-Number(t.tableData[l].ExpenditureBudget))/Number(t.tableData[l].ContractAmount),t.tableData[l].profit=(100*t.tableData[l].profit).toFixed(2)+"%",t.tableData[l].expenditureend=t.jsondata.currency(Number(t.tableData[l].ExpenditureBudget)-Number(t.tableData[l].expenditure),"￥",2),t.tableData[l].projectprofit=t.jsondata.currency(Number(t.tableData[l].ContractAmount)-Number(t.tableData[l].ExpenditureBudget),"￥",2),t.tableData[l].ContractDate=t.tableData[l].ContractDate.substr(0,10),t.tableData[l].Receivablesend=t.jsondata.currency(Number(t.tableData[l].ContractAmount)-Number(t.tableData[l].Receivables),"￥",2),t.tableData[l].ExpenditureBudget=t.jsondata.currency(t.tableData[l].ExpenditureBudget,"￥",2),t.tableData[l].expenditure=t.jsondata.currency(t.tableData[l].expenditure,"￥",2),t.tableData[l].Receivablesbfb=(Number(t.tableData[l].Receivables)/Number(t.tableData[l].ContractAmount)*100).toFixed(2)+"%",t.tableData[l].Receivables=t.jsondata.currency(t.tableData[l].Receivables,"￥",2),t.tableData[l].ContractAmount=t.jsondata.currency(Number(t.tableData[l].ContractAmount),"￥",2)}t.tableData_s=t.tableData}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},play:function(e){var t=this;t.table=t.tableData.filter(function(a){if(a.ContractDate.includes(e)||a.projectName.includes(e)||a.projectContent.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    进行中项目\n    "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getdata("2020")}}},[e._v("2020")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getdata("2021")}}},[e._v("2021")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getdata("2022")}}},[e._v("2022")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getdata()}}},[e._v("全部")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加项目")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{onclick:"exportExcel('#projectid')"}},[e._v("点击导出")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",float:"right","margin-right":"0px"},attrs:{placeholder:"请输入搜索内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加项目",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"签约日期",prop:"ContractDate"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.ContractDate,callback:function(t){e.$set(e.form,"ContractDate",t)},expression:"form.ContractDate"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[a("el-input",{model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"甲方客户",prop:"CustomerName"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{filterable:"",placeholder:"甲方客户"},model:{value:e.form.CustomerName,callback:function(t){e.$set(e.form,"CustomerName",t)},expression:"form.CustomerName"}},e._l(e.optionsproject,function(e){return a("el-option",{key:e.CustomerName,attrs:{label:e.CustomerName,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"项目金额",prop:"ContractAmount"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.ContractAmount,callback:function(t){e.$set(e.form,"ContractAmount",t)},expression:"form.ContractAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预算支出",prop:"ExpenditureBudget"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.ExpenditureBudget,callback:function(t){e.$set(e.form,"ExpenditureBudget",t)},expression:"form.ExpenditureBudget"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目说明",prop:"projectContent"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.projectContent,callback:function(t){e.$set(e.form,"projectContent",t)},expression:"form.projectContent"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData_s,id:"projectid",border:"","summary-method":e.jsondata.getSummaries,height:"90%","show-summary":""},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ContractDate",label:"签约时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ContractAmount",label:"项目金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已收金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesbfb",label:"已收比例",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未收金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ExpenditureBudget",label:"应付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"expenditure",label:"已付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"expenditureend",label:"未付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectprofit",label:"毛利",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"profit",label:"毛利率",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectContent",label:"项目说明",sortable:""}})],1)],1)},staticRenderFns:[]},p=a("VU/8")(u,d,!1,null,null,null).exports,f={data:function(){return{horizontalfn:"vertical",openeds:["1","2"],isCollapse:!1,showbox:!1,hidebox:!0}},mounted:function(){this.boxplay()},methods:{boxplay:function(){document.body.offsetWidth<980&&(this.horizontalfn="horizontal",this.isCollapse=!0,this.showbox=!1,this.hidebox=!1)},boxshow:function(){this.showbox=!this.showbox,this.hidebox=!this.hidebox,this.isCollapse=!this.isCollapse},handleOpen:function(e,t){},handleClose:function(e,t){}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":"1-4-1","background-color":"#545c64","text-color":"#fff",mode:e.horizontalfn,"menu-trigger":"click",collapse:e.isCollapse,"default-openeds":e.openeds},on:{open:e.handleOpen,close:e.handleClose}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-fold"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("项目管理")])]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/index"}},[a("i",{staticClass:"el-icon-menu"}),e._v("进行中项目\n      ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/Customerlist"}},[a("i",{staticClass:"el-icon-user-solid"}),e._v("客户管理\n      ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/SupplierList"}},[a("i",{staticClass:"el-icon-s-shop"}),e._v("供应商管理\n      ")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("帐目报表")])]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/Receivableslist"}},[a("i",{staticClass:"el-icon-menu"}),e._v("项目收入报表\n      ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/profitlist"}},[a("i",{staticClass:"el-icon-s-order"}),e._v("项目利润报表\n      ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/SupplierData"}},[a("i",{staticClass:"el-icon-s-check"}),e._v("供应商应付表\n      ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/stafflist"}},[a("i",{staticClass:"el-icon-s-check"}),e._v("外包应付表\n      ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/staff"}},[a("i",{staticClass:"el-icon-s-check"}),e._v("员工应付表\n      ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/searchpage"}},[a("i",{staticClass:"el-icon-s-check"}),e._v("表单检索-每期\n      ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/searchht"}},[a("i",{staticClass:"el-icon-s-check"}),e._v("表单检索-合同\n      ")])],1)],2),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.hidebox,expression:"hidebox"}],on:{click:e.boxshow}},[a("i",{staticClass:"el-icon-arrow-left"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("收起")])]),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.showbox,expression:"showbox"}],on:{click:e.boxshow}},[a("i",{staticClass:"el-icon-arrow-right"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("展开")])])],1)},staticRenderFns:[]},m=a("VU/8")(f,b,!1,null,null,null).exports,v=a("RRo+"),h=a.n(v),g={data:function(){return{projectdata:"",hetongweishou:"",projectContractcon:[],dataList:[],spanArr:[],projectContract:[],outerVisible:!1,shoukuan:[],gongcheng:[],yewu:[],optionsprojectClass:[],optionsOtherParty:[],zhongshouru:"",weishoukuan:"",projectName:"",rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],ContractDate:[{required:!0,message:"请选择签约日期",trigger:"blur"}]},Receivables:[],expenditure:[],optionsproject:[],dialogFormVisible:!1,form:{projectName:"无",projectContent:"无",CustomerName:"无",ContractAmount:"",ContractDate:"无",ExpenditureBudget:"无"},contentsinvoice:"",contentsint:"",Receivablesint:"",contentsintp:"",Receivablesintp:"",invoiceint:"",invoicebo:"",invoiceintp:"",tableDatayingjiang:[],ReceivableslistData:[],hegongzhichun:[],tableData:[{pojname:"项目名称",contents:"无"},{pojname:"项目启动时间",contents:"无"},{pojname:"甲方客户",contents:"无"},{pojname:"项目收入",contents:"无"},{pojname:"项目支出",contents:"无"},{pojname:"项目发票",contents:"无"},{pojname:"项目利润",contents:"无"},{pojname:"项目说明",contents:"无"}]}},mounted:function(){this.getFormData("supplierlist"),this.getFormDataClass("expenditureclass"),this.getdata()},methods:{dstaplayb:function(){this.Receivablesintp=0,this.contentsintp=0,this.contentsint=0,this.Receivablesint=0,this.invoiceint=0,this.Receivablesint=0,this.ReceivableslistData=[],this.hegongzhichun=[],this.invoicebo=0},getdata:function(){var e=this;return this.dstaplayb(),this.jsondata.getDataClass("revenuecontract",this.$route.params.id,"projectId").then(function(t){e.projectContract=t.data,e.jsondata.getDataClass("receivables",e.$route.params.id,"projectlist").then(function(t){for(var a in e.projectContractcon=t.data,e.projectContract){for(var o in e.projectContract[a].projectidlist=[],e.projectContractcon)e.projectContract[a].id==e.projectContractcon[o].projectId&&(e.projectContractcon[o].projectint=a,e.projectContract[a].projectidlist.push(e.projectContractcon[o]));for(var i in e.projectContract[a].projectidlist)if(e.projectContract[a].projectidlist[i].number>1)for(var l in e.projectContract[a].projectidlist[i].hetongwidthou=Number(e.projectContract[a].projectidlist[i].number),e.projectContract[a].projectidlist)e.projectContract[a].projectidlist[i].Receivableslist==e.projectContract[a].projectidlist[l].Receivableslist&&(e.projectContract[a].projectidlist[i].hetongwidthou-=Number(e.projectContract[a].projectidlist[l].Receivables));for(var r in e.projectContract[a].projectidlist)e.projectContract[a].projectidlist[r].number=e.jsondata.currency(e.projectContract[a].projectidlist[r].number,"￥",2),e.projectContract[a].projectidlist[r].hetongwidthou=e.jsondata.currency(e.projectContract[a].projectidlist[r].hetongwidthou,"￥",2),e.projectContract[a].projectidlist[r].Receivables=e.jsondata.currency(e.projectContract[a].projectidlist[r].Receivables,"￥",2),e.projectContract[a].projectidlist[r].invoice=e.jsondata.currency(e.projectContract[a].projectidlist[r].invoice,"￥",2),""==e.projectContract[a].projectidlist[r].daozhangdate&&(e.projectContract[a].projectidlist[r].daozhangdate+=e.projectContract[a].projectidlist[r].kaifapiaodate);e.projectContract[a].projectidlist=e.projectContract[a].projectidlist.sort(function(e,t){return(e.Receivableslist+"").localeCompare(t.Receivableslist+"")}),e.dataList.push(e.jsondata.getSpanArr(e.projectContract[a].projectidlist,"Receivableslist"))}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),this.jsondata.getDataId("projectlist",this.$route.params.id).then(function(t){e.form=t.data[0],e.form.ContractDate=t.data[0].ContractDate.substr(0,10),e.jsondata.getData("customerlist").then(function(t){e.optionsproject=t.data;for(var a=0;a<t.data.length;a++)e.form.CustomerName==t.data[a].id&&(e.form.CustomerNameid=t.data[a].CustomerName,e.tableData[2].contents=e.form.CustomerNameid);e.getdataReceivables()}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},updatpostData:function(){var e=this;return h()(this.form.CustomerNameid)&&(this.form.CustomerName=this.form.CustomerNameid,console.log(this.form.ContractDate)),this.jsondata.updatpostData("projectlist",this.form).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.dialogFormVisible=!1,e.getdata())}).catch(function(e){console.log(e)}),!1},updatpostData_end:function(){var e=this;return this.form.complete=1,h()(this.form.CustomerNameid)&&(this.form.CustomerName=this.form.CustomerNameid),this.jsondata.updatpostData("projectlist",this.form).then(function(t){"OK"===t.data&&e.$router.push("/index")}).catch(function(e){console.log(e)}),!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updatpostData()})},deletepost:function(){var e=this;this.jsondata.deletepost("projectlist",this.$route.params.id).then(function(t){"OK"===t.data&&e.$router.push("/index")}).catch(function(e){console.log(e)})},ReceivablesGo:function(){this.$router.push("/RevenueContract/"+this.$route.params.id)},expenditureGo:function(){this.$router.push("/expenditureContract/"+this.$route.params.id)},getdataReceivables:function(){var e=this;return this.tableData[0].contents=this.form.projectName,this.tableData[1].contents=this.form.ContractDate,this.tableData[7].contents=this.form.projectContent,this.jsondata.getDataClass("receivables",this.$route.params.id,"projectlist").then(function(t){e.projectdata=t.data;for(var a=0;a<t.data.length;a++)for(var o=0;o<e.projectContract.length;o++)e.projectContract[o].id===t.data[a].projectId&&(e.contentsint+=Number(t.data[a].number),e.Receivablesint+=Number(t.data[a].Receivables),e.invoiceint=Number(e.invoiceint)+Number(t.data[a].invoice));e.tableData[3].contents="合同金额:"+e.jsondata.currency(e.form.ContractAmount,"￥",2),e.tableData[4].contents="预算支出:"+e.jsondata.currency(e.form.ExpenditureBudget,"￥",2),e.tableData[3].contents+=" 　　到账金额:"+e.jsondata.currency(e.Receivablesint,"￥",2),e.tableData[3].contents+=" 　　未收金额:"+e.jsondata.currency(e.form.ContractAmount-e.Receivablesint,"￥",2),e.tableData[5].contents="开出发票:"+e.jsondata.currency(e.invoiceint,"￥",2)+" / (已开票未收款:"+e.jsondata.currency(e.invoiceint-e.Receivablesint,"",2)+")",e.shoukuan=t.data;for(var i=0;i<e.shoukuan.length;i++)e.shoukuan[i].Receivablesend=e.jsondata.currency((e.shoukuan[i].number-e.shoukuan[i].Receivables).toFixed(2),"￥",2),e.shoukuan[i].number=e.jsondata.currency(e.shoukuan[i].number,"￥",2),e.shoukuan[i].Receivables=e.jsondata.currency(e.shoukuan[i].Receivables,"￥",2),e.shoukuan[i].invoice=e.jsondata.currency(e.shoukuan[i].invoice,"￥",2);e.getdataexpenditure()}).catch(function(e){console.log(e)}),!1},getdataexpenditure:function(){var e=this;return this.jsondata.getDataClass("expendituredata",this.$route.params.id,"projectlist").then(function(t){e.invoiceintp=0,e.contentsintp=0,e.invoicebo=0,0==t.data.length||(e.tableData[6].contents=e.jsondata.currency(e.Receivablesint-e.Receivablesintp,"￥",2)),e.getdatae1()}).catch(function(e){console.log(e)}),!1},getdatae1:function(){var e=this;this.jsondata.getDataClass("expenditure",this.$route.params.id,"projectId").then(function(t){e.hegongzhichun=t.data,e.jsondata.getDataClass("expendituredata",e.$route.params.id,"projectlist").then(function(t){for(var a in e.ReceivableslistData=e.optionsprojectClass,e.ReceivableslistData)for(var o in e.ReceivableslistData[a].hetongzhichundata=[],e.hegongzhichun){if(e.ReceivableslistData[a].hetongzhichundata.hetongzhichunlist=[],e.ReceivableslistData[a].id==e.hegongzhichun[o].projectClass){for(var i in e.hegongzhichun[o].Receivables=Number(e.hegongzhichun[o].Receivables),e.hegongzhichun[o].invoice=Number(e.hegongzhichun[o].invoice),"不分期"!==e.hegongzhichun[o].Receivableslist&&(e.hegongzhichun[o].Receivables=0,e.hegongzhichun[o].invoice=0),"不计发票"==e.hegongzhichun[o].invoicebo?e.invoicebo+=Number(e.hegongzhichun[o].Receivables):e.invoiceintp+=Number(e.hegongzhichun[o].invoice),t.data)e.hegongzhichun[o].id==t.data[i].projectId&&("不分期"===e.hegongzhichun[o].Receivableslist||(e.hegongzhichun[o].Receivables+=Number(t.data[i].Receivables)),e.ReceivableslistData[a].hetongzhichundata.hetongzhichunlist.push(t.data[i]),"不计发票"===t.data[i].invoicebo?e.invoicebo+=Number(t.data[i].Receivables):(e.hegongzhichun[o].invoice+=Number(t.data[i].invoice),e.invoiceintp+=Number(t.data[i].invoice)));for(var l in e.optionsOtherParty)e.optionsOtherParty[l].id==e.hegongzhichun[o].SupplierName&&(e.hegongzhichun[o].SupplierNameid=e.hegongzhichun[o].SupplierName,e.hegongzhichun[o].SupplierName=e.optionsOtherParty[l].SupplierName);e.contentsintp+=Number(e.hegongzhichun[o].number),e.Receivablesintp+=Number(e.hegongzhichun[o].Receivables),e.hegongzhichun[o].invoiceend=e.jsondata.currency(Number(e.hegongzhichun[o].Receivables)-e.hegongzhichun[o].invoice,"￥",2),e.hegongzhichun[o].Receivablesend=Number(e.hegongzhichun[o].number)-e.hegongzhichun[o].Receivables,e.hegongzhichun[o].Receivables=e.jsondata.currency(e.hegongzhichun[o].Receivables,"￥",2),e.hegongzhichun[o].invoice=e.jsondata.currency(e.hegongzhichun[o].invoice,"￥",2),e.hegongzhichun[o].Receivablesend=e.jsondata.currency(e.hegongzhichun[o].Receivablesend,"￥",2),e.hegongzhichun[o].number=e.jsondata.currency(e.hegongzhichun[o].number,"￥",2),e.ReceivableslistData[a].hetongzhichundata.push(e.hegongzhichun[o])}e.ReceivableslistData[a].hetongzhichundata=e.ReceivableslistData[a].hetongzhichundata.sort(function(e,t){return(e.SupplierNameid+"").localeCompare(t.SupplierNameid+"")})}e.tableData[4].contents+=" 　　应付金额:"+e.jsondata.currency(e.contentsintp,"￥",2),e.tableData[4].contents+=" 　　已付金额:"+e.jsondata.currency(e.Receivablesintp,"￥",2),e.tableData[4].contents+=" 　　未支付金额:"+e.jsondata.currency(e.contentsintp-e.Receivablesintp,"￥",2),e.tableData[5].contents+=" 　　收到发票:"+e.jsondata.currency(e.invoiceintp,"￥",2)+" / (已付款未收票"+e.jsondata.currency(e.Receivablesintp-e.invoiceintp-e.invoicebo,"",2)+") --- 不计发票:"+e.jsondata.currency(e.invoicebo,"￥",2),e.tableData[6].contents=e.jsondata.currency(e.form.ContractAmount-e.contentsintp,"￥",2)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},getFormData:function(e){var t=this;this.jsondata.getData(e).then(function(e){t.optionsOtherParty=e.data}).catch(function(e){console.log(e)})},getFormDataClass:function(e){var t=this;this.jsondata.getData(e).then(function(e){t.optionsprojectClass=e.data}).catch(function(e){console.log(e)})},objectSpanMethod:function(e){var t=e.row,a=(e.column,e.rowIndex),o=e.columnIndex;if(0===o||1===o||2===o||6===o){var i=this.dataList[t.projectint][a];return{rowspan:i,colspan:i>0?1:0}}}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("el-dialog",{attrs:{title:"修改项目",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[a("el-input",{model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签约日期",prop:"ContractDate"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.ContractDate,callback:function(t){e.$set(e.form,"ContractDate",t)},expression:"form.ContractDate"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"甲方客户",prop:"CustomerName"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{filterable:"",placeholder:"甲方客户"},model:{value:e.form.CustomerNameid,callback:function(t){e.$set(e.form,"CustomerNameid",t)},expression:"form.CustomerNameid"}},e._l(e.optionsproject,function(e){return a("el-option",{key:e.CustomerName,attrs:{label:e.CustomerName,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"合同金额",prop:"ContractAmount"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.ContractAmount,callback:function(t){e.$set(e.form,"ContractAmount",t)},expression:"form.ContractAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预算支出",prop:"ExpenditureBudget"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.ExpenditureBudget,callback:function(t){e.$set(e.form,"ExpenditureBudget",t)},expression:"form.ExpenditureBudget"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目说明",prop:"projectContent"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.projectContent,callback:function(t){e.$set(e.form,"projectContent",t)},expression:"form.projectContent"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("修改")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.outerVisible=!0}}},[e._v("删除")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"确认删除",visible:e.outerVisible,"append-to-body":""},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-button",{on:{click:function(t){e.outerVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{on:{click:function(t){e.updatpostData_end()}}},[e._v("删除")])],1)],1),e._v(" "),a("h3",[e._v("\n    项目明细\n    "),a("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("修改")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"primary"},on:{click:e.ReceivablesGo}},[e._v("项目收款")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"primary"},on:{click:e.expenditureGo}},[e._v("项目支出")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"0px"},attrs:{onclick:"exportExcel('#projectdate')"}},[e._v("点击导出")])],1),e._v(" "),a("div",{attrs:{id:"projectdate"}},[a("el-table",{staticClass:"projectdateil",staticStyle:{width:"100%","font-weight":"bold",display:"none"},attrs:{border:""}},[a("el-table-column",{attrs:{prop:"",label:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:""}})],1),e._v(" "),a("table",{staticClass:"projectdateil",staticStyle:{width:"100%","background-color":"#eee","font-weight":"bold"},attrs:{cellpadding:"20",cellspacing:"1"}},[a("tr",[a("th",{attrs:{colspan:"1",width:"120"}},[a("strong",[e._v("名称")])]),e._v(" "),a("th",{attrs:{colspan:"7"}},[a("strong",[e._v("内容")])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[e._v("项目名称")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(this.tableData[0].contents))])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[e._v("项目启动时间")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(this.tableData[1].contents))])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[e._v("甲方客户")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(this.tableData[2].contents))])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[e._v("项目收入")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(this.tableData[3].contents))])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[e._v("项目支出")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(this.tableData[4].contents))])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[e._v("项目发票")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(this.tableData[5].contents))])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[e._v("项目利润")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(this.tableData[6].contents))])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[e._v("项目说明")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(this.tableData[7].contents))])])]),e._v(" "),a("table",[a("tr",[a("th",{attrs:{colspan:"8"}},[a("h3",[e._v("收款")])])])]),e._v(" "),e._l(e.projectContract,function(t){return a("el-row",{key:t.ReceivablesName},[a("table",[a("tr",[a("th",{attrs:{colspan:"8"}},[a("h3",[a("h4",[e._v(e._s(t.ReceivablesName)+" ---- "),a("span",{staticStyle:{float:"right"}},[e._v(" 签约日期 "+e._s(t.ReceivablesData))])])])])])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.projectidlist,"show-summary":"","summary-method":e.jsondata.getSummaries,"span-method":e.objectSpanMethod,border:""}},[a("el-table-column",{attrs:{prop:"Receivableslist",label:"收款分期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesData",label:"合同收款时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应收金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"到账金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"开出发票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"daozhangdate",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hetongwidthou",label:"未收金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Remarks",label:"备注"}})],1)],1)}),e._v(" "),a("hr",{staticStyle:{height:"30px","background-color":"#eee",border:"0px"}}),e._v(" "),e._l(e.ReceivableslistData,function(t){return a("el-row",{key:t.ReceivablesName},[a("table",[a("tr",[a("th",{attrs:{colspan:"8"}},[a("h3",[e._v(e._s(t.expenditureClass))])])])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.hetongzhichundata,border:"","show-summary":"","summary-method":e.jsondata.getSummaries}},[a("el-table-column",{attrs:{prop:"contractdate",label:"签约日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierName",label:"收款名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesName",label:"应付内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应付总额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已支付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"收到发票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"",width:"1"}})],1)],1)})],2)],1)},staticRenderFns:[]};var _=a("VU/8")(g,y,!1,function(e){a("X9nX")},null,null).exports,D={data:function(){return{outerVisible:!1,boxvalue2:!0,hetongjiner:0,yingshou:0,zongshouru:0,weishou:0,weikaifapiao:0,projectNameid:"",projectName:"",public:[],Customerlist:[],tableData:[],dialogAddVisible:!1,dialogFormVisible:!1,formModify:{id:"",ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",Receivablesend:"",projectId:"",invoice:"",Receivables:"",daozhangdate:"",kaifapiaodate:""},TransactionList:{},formTransactionCon:"",formTransactionList:{},formTransaction:{MoneyClass:"",CollectMoney:"",AmountMoney:"",invoice:"",projectId:this.$route.params.id},income:{},form:{ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",projectId:this.$route.params.id,invoice:"",Receivableslist:"",Receivables:"",daozhangdate:"",kaifapiaodate:"",projectlist:""},dataList:[],rules:{}}},props:{map:{}},watch:{form:{handler:function(e,t){for(var a=0;a<this.tableData.length;a++){if(e.Receivableslist==this.tableData[a].Receivableslist)return this.boxvalue2=!1,void(this.form.number=0);this.boxvalue2=!0}},deep:!0}},mounted:function(){this.getdata(),this.getFormDataPojname()},methods:{submitFormModify:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updatpostData()})},updatpostData:function(){var e=this;return this.jsondata.updatpostData("receivables",this.formModify).then(function(t){e.getdata(),e.dialogAddVisible=!1}).catch(function(e){console.log(e)}),!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields(),this.form.daozhangdate="",this.form.kaifapiaodate="",this.form.Receivableslist=""},postData:function(){var e=this;return this.jsondata.postData("receivables",this.form).then(function(t){"OK"===t.data&&(e.dialogFormVisible=!1,e.getdata(),e.resetForm("form"))}).catch(function(e){console.log(e)}),!1},getdataincome:function(){var e=this;return this.jsondata.getDataClass("revenuecontract",this.$route.params.id,"id").then(function(t){e.projectName=t.data[0].ReceivablesName,e.projectNameid=t.data[0].projectId,e.hetongjiner=t.data[0].number,e.income=t.data,e.form.projectlist=t.data[0].projectId,Number(e.hetongjiner).toFixed(2)==Number(e.yingshou).toFixed(2)?document.querySelector(".colorRed").style.color="#555":document.querySelector(".colorRed").style.color="#f00"}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.hetongjiner=0,this.yingshou=0,this.zongshouru=0,this.weishou=0,this.weikaifapiao=0,this.jsondata.getDataClass("receivables",this.$route.params.id,"projectId").then(function(t){e.tableData=t.data.sort(function(e,t){return(e.Receivableslist+"").localeCompare(t.Receivableslist+"")});for(var a=0;a<e.tableData.length;a++){if(e.tableData[a].weikaifapiao=0,""===e.tableData[a].daozhangdate&&(e.tableData[a].daozhangdate=e.tableData[a].kaifapiaodate),e.tableData[a].number>1){e.tableData[a].Receivablesend=Number(e.tableData[a].number);for(var o=0;o<e.tableData.length;o++)e.tableData[a].Receivableslist==e.tableData[o].Receivableslist&&(e.tableData[a].Receivablesend-=Number(e.tableData[o].Receivables),e.tableData[a].weikaifapiao+=Number(e.tableData[o].invoice)-Number(e.tableData[o].Receivables))}else e.tableData[a].Receivablesend="";console.log(e.tableData[a].weikaifapiao),e.tableData[a].weikaifapiao=e.jsondata.currency(e.tableData[a].weikaifapiao,"￥",2),e.tableData[a].Receivablesend=e.jsondata.currency(e.tableData[a].Receivablesend,"￥",2)}e.dataList=e.jsondata.getSpanArr(e.tableData,"Receivableslist");for(var i=0;i<e.tableData.length;i++)e.yingshou+=Number(e.tableData[i].number),e.zongshouru+=Number(e.tableData[i].Receivables),e.weikaifapiao+=Number(e.tableData[i].invoice),e.tableData[i].number=e.jsondata.currency(e.tableData[i].number,"￥",2),e.tableData[i].Receivables=e.jsondata.currency(e.tableData[i].Receivables,"￥",2),e.tableData[i].invoice=e.jsondata.currency(e.tableData[i].invoice,"￥",2);e.weishou=Number(e.yingshou)-Number(e.zongshouru),e.getdataincome()}).catch(function(e){console.log(e)}),!1},deletepost:function(){var e=this;this.jsondata.deletepost("receivables",this.formModify.id).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.outerVisible=!1,e.getdata())}).catch(function(e){console.log(e)})},handle:function(e){var t=this;return e.number.length>4?this.boxvalue2=!0:this.boxvalue2=!1,this.dialogAddVisible=!0,this.jsondata.getDataId("receivables",e.id).then(function(e){t.formModify=e.data[0]}).catch(function(e){console.log(e)}),!1},postFormData:function(e,t){return this.jsondata.postData(e,t).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)}),!1},getFormData:function(e){var t=this;this.jsondata.getData("getposts").then(function(e){return t.public=e,t.public}).catch(function(e){console.log(e)})},getFormDataPojname:function(){var e=this;this.jsondata.getDataId("projectlist",this.$route.params.id).then(function(t){e.projectName=t.data[0].projectName}).catch(function(e){console.log(e)})},goToHome:function(){this.$router.push("/RevenueContract/"+this.projectNameid)},goToHome1:function(){this.$router.push("/ProjectDetails/"+this.projectNameid)},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a||1===a||2===a||6===a||7===a){var o=this.dataList[t];return{rowspan:o,colspan:o>0?1:0}}}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:e.goToHome1}},[e._v("返回项目 > ")]),e._v(" "),a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:e.goToHome}},[e._v(e._s(this.projectName)+" > ")]),e._v("收款明细收入列表\n    "),a("span",{staticClass:"colorRed"},[e._v(" ----- 合同金额:"+e._s(this.jsondata.currency(this.hetongjiner,"￥",2)))]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0,e.boxvalue2=!0}}},[e._v("添加收款")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{onclick:"exportExcel('#Receivables')"}},[e._v("点击导出")])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加收款",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[e.boxvalue2?a("el-form-item",{attrs:{label:"收款名称",prop:"ReceivablesName"}},[a("el-input",{model:{value:e.form.ReceivablesName,callback:function(t){e.$set(e.form,"ReceivablesName",t)},expression:"form.ReceivablesName"}})],1):e._e(),e._v(" "),e.boxvalue2?a("el-form-item",{attrs:{label:"收款时间",prop:"ReceivablesData"}},[a("el-input",{model:{value:e.form.ReceivablesData,callback:function(t){e.$set(e.form,"ReceivablesData",t)},expression:"form.ReceivablesData"}})],1):e._e(),e._v(" "),e.boxvalue2?a("el-form-item",{attrs:{label:"收款方式",prop:"ReceivablesMode"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.ReceivablesMode,callback:function(t){e.$set(e.form,"ReceivablesMode",t)},expression:"form.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1)],1):e._e(),e._v(" "),e.boxvalue2?a("el-form-item",{attrs:{label:"应收金额",prop:"number"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"有无合同",prop:"contract"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.contract,callback:function(t){e.$set(e.form,"contract",t)},expression:"form.contract"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"无"}})],1),e._v(" "),a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.Receivableslist,callback:function(t){e.$set(e.form,"Receivableslist",t)},expression:"form.Receivableslist"}},[a("el-option",{attrs:{label:"第1期",value:"第1期"}}),e._v(" "),a("el-option",{attrs:{label:"第2期",value:"第2期"}}),e._v(" "),a("el-option",{attrs:{label:"第3期",value:"第3期"}}),e._v(" "),a("el-option",{attrs:{label:"第4期",value:"第4期"}}),e._v(" "),a("el-option",{attrs:{label:"第5期",value:"第5期"}}),e._v(" "),a("el-option",{attrs:{label:"第6期",value:"第6期"}}),e._v(" "),a("el-option",{attrs:{label:"一年质保金",value:"一年质保金"}}),e._v(" "),a("el-option",{attrs:{label:"二年质保金",value:"二年质保金"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"开出发票",prop:"invoice"}},[a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.kaifapiaodate,callback:function(t){e.$set(e.form,"kaifapiaodate",t)},expression:"form.kaifapiaodate"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.invoice,callback:function(t){e.$set(e.form,"invoice",t)},expression:"form.invoice"}}),e._v(" "),a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.formModify.invoice=e.formModify.number}}},[e._v("开票")])],1),e._v(" "),a("el-form-item",{attrs:{label:"到账金额",prop:"Receivables"}},[a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.daozhangdate,callback:function(t){e.$set(e.form,"daozhangdate",t)},expression:"form.daozhangdate"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.Receivables,callback:function(t){e.$set(e.form,"Receivables",t)},expression:"form.Receivables"}}),e._v(" "),a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.formModify.Receivables=e.formModify.number}}},[e._v("付款")])],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.Remarks,callback:function(t){e.$set(e.form,"Remarks",t)},expression:"form.Remarks"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定添加")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.formModify.ReceivablesName,visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{ref:"formModify",staticClass:"demo-ruleForm",attrs:{model:e.formModify,rules:e.rules,"label-width":"80px"}},[e.boxvalue2?a("el-form-item",{attrs:{label:"收款名称",prop:"ReceivablesName"}},[a("el-input",{model:{value:e.formModify.ReceivablesName,callback:function(t){e.$set(e.formModify,"ReceivablesName",t)},expression:"formModify.ReceivablesName"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"收款时间",prop:"ReceivablesData"}},[a("el-input",{model:{value:e.formModify.ReceivablesData,callback:function(t){e.$set(e.formModify,"ReceivablesData",t)},expression:"formModify.ReceivablesData"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收款方式",prop:"ReceivablesMode"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.ReceivablesMode,callback:function(t){e.$set(e.formModify,"ReceivablesMode",t)},expression:"formModify.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"应收金额",prop:"number"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.formModify.number,callback:function(t){e.$set(e.formModify,"number",t)},expression:"formModify.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无合同",prop:"contract"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.contract,callback:function(t){e.$set(e.formModify,"contract",t)},expression:"formModify.contract"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"无"}})],1),e._v(" "),a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择",disabled:!0},model:{value:e.formModify.Receivableslist,callback:function(t){e.$set(e.formModify,"Receivableslist",t)},expression:"formModify.Receivableslist"}},[a("el-option",{attrs:{label:"第1期",value:"第1期"}}),e._v(" "),a("el-option",{attrs:{label:"第2期",value:"第2期"}}),e._v(" "),a("el-option",{attrs:{label:"第3期",value:"第3期"}}),e._v(" "),a("el-option",{attrs:{label:"第4期",value:"第4期"}}),e._v(" "),a("el-option",{attrs:{label:"第5期",value:"第5期"}}),e._v(" "),a("el-option",{attrs:{label:"第6期",value:"第6期"}}),e._v(" "),a("el-option",{attrs:{label:"一年质保金",value:"一年质保金"}}),e._v(" "),a("el-option",{attrs:{label:"二年质保金",value:"二年质保金"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"开出发票"}},[a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formModify.kaifapiaodate,callback:function(t){e.$set(e.formModify,"kaifapiaodate",t)},expression:"formModify.kaifapiaodate"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.formModify.invoice,callback:function(t){e.$set(e.formModify,"invoice",t)},expression:"formModify.invoice"}}),e._v(" "),a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.formModify.invoice=e.formModify.number}}},[e._v("开票")])],1),e._v(" "),a("el-form-item",{attrs:{label:"到账金额"}},[a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formModify.daozhangdate,callback:function(t){e.$set(e.formModify,"daozhangdate",t)},expression:"formModify.daozhangdate"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.formModify.Receivables,callback:function(t){e.$set(e.formModify,"Receivables",t)},expression:"formModify.Receivables"}}),e._v(" "),a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.formModify.Receivables=e.formModify.number}}},[e._v("付款")])],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formModify.Remarks,callback:function(t){e.$set(e.formModify,"Remarks",t)},expression:"formModify.Remarks"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormModify("formModify")}}},[e._v("更新")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.outerVisible=!0}}},[e._v("删除收款")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"确认删除",visible:e.outerVisible,"append-to-body":""},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-button",{on:{click:function(t){e.outerVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{on:{click:e.deletepost}},[e._v("删除")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"Receivables",data:e.tableData,border:"","highligth-current-row":"","summary-method":e.jsondata.getSummaries,"show-summary":"",height:"90%","span-method":e.objectSpanMethod},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{prop:"Receivableslist",label:"收款分期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应收金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesData",label:"收款时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"到账金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"开出发票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"daozhangdate",label:"到账时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"weikaifapiao",label:"已开票未收款"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未收金额"}})],1)],1)},staticRenderFns:[]},x=a("VU/8")(D,j,!1,null,null,null).exports,R={data:function(){return{outerVisible:!1,boxvalue2:!0,boxvalue:!0,titleSupplierName:"",hetongjiner:0,yingshou:0,zongshouru:0,weishou:0,weikaifapiao:0,projectNameid:"",projectName:"",public:[],Customerlist:[],tableData:[],dialogAddVisible:!1,dialogFormVisible:!1,formModify:{id:"",ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",Receivablesend:"",projectId:"",daozhangdate:"",kaifapiaodate:"",invoice:"",invoicebo:"",supplielist:"",Receivables:""},TransactionList:{},formTransactionCon:"",formTransactionList:[],formTransaction:{MoneyClass:"",CollectMoney:"",AmountMoney:"",invoice:"",projectId:this.$route.params.id},income:{},form:{ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",projectId:this.$route.params.id,invoice:"",Receivableslist:"",Receivables:"",daozhangdate:"",kaifapiaodate:"",supplielist:"",projectlist:""},dataList:[],rules:{}}},props:{map:{}},watch:{form:{handler:function(e,t){"不计发票"==e.invoicebo?(this.boxvalue=!1,this.form.invoice=""):this.boxvalue=!0;for(var a=0;a<this.tableData.length;a++){if(e.Receivableslist==this.tableData[a].Receivableslist)return this.boxvalue2=!1,void(this.form.number="");this.boxvalue2=!0}},deep:!0},formModify:{handler:function(e,t){"不计发票"==e.invoicebo?(this.boxvalue=!1,this.formModify.invoice=""):this.boxvalue=!0},deep:!0}},mounted:function(){this.getdata(),this.getFormDataPojname()},methods:{submitFormModify:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updatpostData()})},updatpostData:function(){var e=this;return this.jsondata.updatpostData("expendituredata",this.formModify).then(function(t){e.getdata(),e.dialogAddVisible=!1}).catch(function(e){console.log(e)}),!1},submitForm:function(e){var t=this;console.log(this.form),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},postData:function(){var e=this;return this.jsondata.postData("expendituredata",this.form).then(function(t){"OK"===t.data&&(e.dialogFormVisible=!1,e.getdata(),e.resetForm("form"))}).catch(function(e){console.log(e)}),!1},getdataincome:function(){var e=this;return this.jsondata.getDataClass("expenditure",this.$route.params.id,"id").then(function(t){e.projectName=t.data[0].ReceivablesName,e.projectNameid=t.data[0].projectId,e.hetongjiner=t.data[0].number,e.form.supplielist=t.data[0].SupplierName,e.income=t.data,e.form.projectlist=t.data[0].projectId,e.jsondata.getDataClass("supplierlist",t.data[0].SupplierName,"id").then(function(t){e.titleSupplierName=t.data[0].SupplierName}).catch(function(e){console.log(e)}),Number(e.hetongjiner).toFixed(2)==Number(e.yingshou).toFixed(2)?document.querySelector(".colorRed").style.color="#555":document.querySelector(".colorRed").style.color="#f00"}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.hetongjiner=0,this.yingshou=0,this.zongshouru=0,this.weishou=0,this.weikaifapiao=0,this.jsondata.getDataClass("expendituredata",this.$route.params.id,"projectId").then(function(t){e.tableData=t.data,e.tableData=e.tableData.sort(function(e,t){return(e.Receivableslist+"").localeCompare(t.Receivableslist+"")});for(var a=0;a<e.tableData.length;a++){if(e.tableData[a].weikaifapiao=0,""!==e.tableData[a].daozhangdate&&null!=e.tableData[a].daozhangdate||(e.tableData[a].daozhangdate=e.tableData[a].kaifapiaodate),e.tableData[a].number>1){e.tableData[a].Receivablesend=Number(e.tableData[a].number);for(var o=0;o<e.tableData.length;o++)e.tableData[a].Receivableslist==e.tableData[o].Receivableslist&&(e.tableData[a].Receivablesend-=Number(e.tableData[o].Receivables),"不计发票"!==e.tableData[o].invoicebo&&(e.tableData[a].weikaifapiao+=Number(e.tableData[o].Receivables)-Number(e.tableData[o].invoice)))}else e.tableData[a].Receivablesend="";e.tableData[a].weikaifapiao=e.jsondata.currency(e.tableData[a].weikaifapiao,"￥",2),e.tableData[a].Receivablesend=e.jsondata.currency(e.tableData[a].Receivablesend,"￥",2)}e.dataList=e.jsondata.getSpanArr(e.tableData,"Receivableslist");for(var i=0;i<e.tableData.length;i++)e.yingshou+=Number(e.tableData[i].number),e.zongshouru+=Number(e.tableData[i].Receivables),e.tableData[i].number=e.jsondata.currency(e.tableData[i].number,"￥",2),"不计发票"!=e.tableData[i].invoicebo?(e.weikaifapiao+=Number(e.tableData[i].invoice),e.tableData[i].invoice=e.jsondata.currency(e.tableData[i].invoice,"￥",2)):(e.tableData[i].invoice="不计发票",e.weikaifapiao+=Number(e.tableData[i].Receivables)),e.tableData[i].Receivables=e.jsondata.currency(e.tableData[i].Receivables,"￥",2);e.weishou=Number(e.yingshou)-Number(e.zongshouru),e.weikaifapiao=Number(e.zongshouru)-Number(e.weikaifapiao),e.getdataincome()}).catch(function(e){console.log(e)}),!1},deletepost:function(){var e=this;this.jsondata.deletepost("expendituredata",this.formModify.id).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.outerVisible=!1,e.getdata())}).catch(function(e){console.log(e)})},handle:function(e){var t=this;return e.number.length>4?this.boxvalue2=!0:this.boxvalue2=!1,this.dialogAddVisible=!0,this.jsondata.getDataId("expendituredata",e.id).then(function(e){t.formModify=e.data[0]}).catch(function(e){console.log(e)}),!1},postFormData:function(e,t){return this.jsondata.postData(e,t).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)}),!1},getFormData:function(e){var t=this;this.jsondata.getData("getposts").then(function(e){return t.public=e,t.public}).catch(function(e){console.log(e)})},getFormDataPojname:function(){var e=this;this.jsondata.getDataId("projectlist",this.$route.params.id).then(function(t){e.projectName=t.data[0].projectName}).catch(function(e){console.log(e)})},goToHome:function(){this.$router.push("/expenditureContract/"+this.projectNameid)},goToHome1:function(){this.$router.push("/ProjectDetails/"+this.projectNameid)},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a||1===a||2===a||6===a||7===a){var o=this.dataList[t];return{rowspan:o,colspan:o>0?1:0}}}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:e.goToHome1}},[e._v("返回项目 > ")]),e._v(" "),a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:e.goToHome}},[e._v("返回合同 > ")]),e._v(e._s(this.titleSupplierName)+" ----- "+e._s(this.projectName)+"\n    "),a("span",{staticClass:"colorRed"},[e._v(" ----- 合同金额:"+e._s(this.jsondata.currency(this.hetongjiner,"￥",2)))]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0,e.boxvalue2=!0,e.form.Receivableslist=""}}},[e._v("添加付款")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{onclick:"exportExcel('#expendituredata')"}},[e._v("点击导出")])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加付款",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[e.boxvalue2?a("el-form-item",{attrs:{label:"付款名称",prop:"ReceivablesName"}},[a("el-input",{attrs:{"v-if":!0},model:{value:e.form.ReceivablesName,callback:function(t){e.$set(e.form,"ReceivablesName",t)},expression:"form.ReceivablesName"}})],1):e._e(),e._v(" "),e.boxvalue2?a("el-form-item",{attrs:{label:"付款时间",prop:"ReceivablesData"}},[e.boxvalue2?a("el-input",{model:{value:e.form.ReceivablesData,callback:function(t){e.$set(e.form,"ReceivablesData",t)},expression:"form.ReceivablesData"}}):e._e()],1):e._e(),e._v(" "),e.boxvalue2?a("el-form-item",{attrs:{label:"付款方式",prop:"ReceivablesMode"}},[e.boxvalue2?a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.ReceivablesMode,callback:function(t){e.$set(e.form,"ReceivablesMode",t)},expression:"form.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1):e._e()],1):e._e(),e._v(" "),e.boxvalue2?a("el-form-item",{attrs:{label:"应付金额",prop:"number"}},[e.boxvalue2?a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}}):e._e()],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"有无合同",prop:"contract"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.contract,callback:function(t){e.$set(e.form,"contract",t)},expression:"form.contract"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"无"}})],1),e._v(" "),a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.Receivableslist,callback:function(t){e.$set(e.form,"Receivableslist",t)},expression:"form.Receivableslist"}},[a("el-option",{attrs:{label:"第1期",value:"第1期"}}),e._v(" "),a("el-option",{attrs:{label:"第2期",value:"第2期"}}),e._v(" "),a("el-option",{attrs:{label:"第3期",value:"第3期"}}),e._v(" "),a("el-option",{attrs:{label:"第4期",value:"第4期"}}),e._v(" "),a("el-option",{attrs:{label:"第5期",value:"第5期"}}),e._v(" "),a("el-option",{attrs:{label:"一年质保金",value:"一年质保金"}}),e._v(" "),a("el-option",{attrs:{label:"二年质保金",value:"二年质保金"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付款金额",prop:"Receivables"}},[a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.daozhangdate,callback:function(t){e.$set(e.form,"daozhangdate",t)},expression:"form.daozhangdate"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.Receivables,callback:function(t){e.$set(e.form,"Receivables",t)},expression:"form.Receivables"}}),e._v(" "),a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.form.Receivables=e.form.number}}},[e._v("付款")])],1),e._v(" "),a("el-form-item",{attrs:{label:"收到发票",prop:"invoice"}},[e.boxvalue?a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.kaifapiaodate,callback:function(t){e.$set(e.form,"kaifapiaodate",t)},expression:"form.kaifapiaodate"}})],1):e._e(),e._v(" "),e.boxvalue?a("el-input",{staticStyle:{width:"25.5%"},attrs:{type:"number"},model:{value:e.form.invoice,callback:function(t){e.$set(e.form,"invoice",t)},expression:"form.invoice"}}):e._e(),e._v(" "),a("el-select",{staticStyle:{width:"20%"},attrs:{placeholder:"请选择"},model:{value:e.form.invoicebo,callback:function(t){e.$set(e.form,"invoicebo",t)},expression:"form.invoicebo"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"不计发票",value:"不计发票"}})],1),e._v(" "),e.boxvalue?a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.form.invoice=e.form.number}}},[e._v("开票")]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.Remarks,callback:function(t){e.$set(e.form,"Remarks",t)},expression:"form.Remarks"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定添加")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.formModify.ReceivablesName,visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{ref:"formModify",staticClass:"demo-ruleForm",attrs:{model:e.formModify,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"付款名称",prop:"ReceivablesName"}},[a("el-input",{model:{value:e.formModify.ReceivablesName,callback:function(t){e.$set(e.formModify,"ReceivablesName",t)},expression:"formModify.ReceivablesName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款时间",prop:"ReceivablesData"}},[a("el-input",{model:{value:e.formModify.ReceivablesData,callback:function(t){e.$set(e.formModify,"ReceivablesData",t)},expression:"formModify.ReceivablesData"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款方式",prop:"ReceivablesMode"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.ReceivablesMode,callback:function(t){e.$set(e.formModify,"ReceivablesMode",t)},expression:"formModify.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"应付金额",prop:"number"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.formModify.number,callback:function(t){e.$set(e.formModify,"number",t)},expression:"formModify.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无合同",prop:"contract"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.contract,callback:function(t){e.$set(e.formModify,"contract",t)},expression:"formModify.contract"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"无"}})],1),e._v(" "),a("el-select",{staticStyle:{width:"46%"},attrs:{disabled:!0,placeholder:"请选择"},model:{value:e.formModify.Receivableslist,callback:function(t){e.$set(e.formModify,"Receivableslist",t)},expression:"formModify.Receivableslist"}},[a("el-option",{attrs:{label:"第1期",value:"第1期"}}),e._v(" "),a("el-option",{attrs:{label:"第2期",value:"第2期"}}),e._v(" "),a("el-option",{attrs:{label:"第3期",value:"第3期"}}),e._v(" "),a("el-option",{attrs:{label:"第4期",value:"第4期"}}),e._v(" "),a("el-option",{attrs:{label:"第5期",value:"第5期"}}),e._v(" "),a("el-option",{attrs:{label:"一年质保金",value:"一年质保金"}}),e._v(" "),a("el-option",{attrs:{label:"二年质保金",value:"二年质保金"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付款金额",prop:"Receivables"}},[a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formModify.daozhangdate,callback:function(t){e.$set(e.formModify,"daozhangdate",t)},expression:"formModify.daozhangdate"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.formModify.Receivables,callback:function(t){e.$set(e.formModify,"Receivables",t)},expression:"formModify.Receivables"}}),e._v(" "),a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.formModify.Receivables=e.formModify.number}}},[e._v("付款")])],1),e._v(" "),a("el-form-item",{attrs:{label:"收到发票",prop:"invoice"}},[e.boxvalue?a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formModify.kaifapiaodate,callback:function(t){e.$set(e.formModify,"kaifapiaodate",t)},expression:"formModify.kaifapiaodate"}})],1):e._e(),e._v(" "),e.boxvalue?a("el-input",{staticStyle:{width:"25.5%"},attrs:{type:"number"},model:{value:e.formModify.invoice,callback:function(t){e.$set(e.formModify,"invoice",t)},expression:"formModify.invoice"}}):e._e(),e._v(" "),a("el-select",{staticStyle:{width:"20%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.invoicebo,callback:function(t){e.$set(e.formModify,"invoicebo",t)},expression:"formModify.invoicebo"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"不计发票",value:"不计发票"}})],1),e._v(" "),e.boxvalue?a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.formModify.invoice=e.formModify.number}}},[e._v("开票")]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formModify.Remarks,callback:function(t){e.$set(e.formModify,"Remarks",t)},expression:"formModify.Remarks"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormModify("formModify")}}},[e._v("更新")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.outerVisible=!0}}},[e._v("删除收款")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"确认删除",visible:e.outerVisible,"append-to-body":""},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-button",{on:{click:function(t){e.outerVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{on:{click:e.deletepost}},[e._v("删除")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"expendituredata",data:e.tableData,border:"","highligth-current-row":"","summary-method":e.jsondata.getSummaries,"span-method":e.objectSpanMethod,"show-summary":"",height:"90%"},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{prop:"Receivableslist",label:"付款分期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesData",label:"付款时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"付款金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"收到发票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"daozhangdate",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"weikaifapiao",label:"已付款未开票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未付金额"}})],1),e._v(" "),a("p",{staticStyle:{"text-align":"left","font-size":"15px",color:"#555","font-weight":"bold"},attrs:{type:"error"}})],1)},staticRenderFns:[]},S=a("VU/8")(R,k,!1,null,null,null).exports,C={data:function(){return{tableData_s:[],table:[],inputData:"",public:[],Customerlist:[],tableData:[],dialogAddVisible:!1,dialogFormVisible:!1,formModify:{},TransactionList:{},formTransactionCon:"",formTransactionList:[],form:{SupplierName:"",SupplierClass:"",SupplierCon:""},rules:{SupplierName:[{required:!0,message:"请输入收款方名称",trigger:"blur"}],SupplierClass:[{required:!0,message:"请选择",trigger:"blur"}]}}},props:{map:{}},watch:{},mounted:function(){this.getdata()},methods:{submitFormModify:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updatpostData()})},updatpostData:function(){var e=this;return this.jsondata.updatpostData("supplierlist",this.formModify).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.getdata())}).catch(function(e){console.log(e)}),!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},postData:function(){var e=this;this.jsondata.getData("supplierlist").then(function(t){for(var a=0;a<t.data.length;a++){if(e.form.SupplierName===t.data[a].SupplierName)return document.querySelector("#infoint").style.display="block",!1;document.querySelector("#infoint").style.display="none"}e.jsondata.postData("supplierlist",e.form).then(function(t){"OK"===t.data&&(e.dialogFormVisible=!1,e.getdata(),e.resetForm("form"))}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},getdata:function(){var e=this;return this.jsondata.getData("supplierlist").then(function(t){e.tableData=t.data,e.tableData_s=e.tableData}).catch(function(e){console.log(e)}),!1},deletepost:function(){var e=this;this.jsondata.deletepost("supplierlist",this.formModify.id).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.getdata())}).catch(function(e){console.log(e)})},handle:function(e,t,a){this.dialogAddVisible=!0,this.formModify=e},play:function(e){var t=this;t.table=t.tableData.filter(function(a){if(a.SupplierName.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    供应商及付款人列表"+e._s(this.$route.params.id)+"\n    "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{onclick:"exportExcel('#SupplierList')"}},[e._v("点击导出")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",float:"right","margin-right":"0px"},attrs:{placeholder:"请输入搜索内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加付款方",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"付款名称",prop:"SupplierName"}},[a("el-input",{model:{value:e.form.SupplierName,callback:function(t){e.$set(e.form,"SupplierName",t)},expression:"form.SupplierName"}}),e._v(" "),a("p",{staticStyle:{display:"none",color:"#f00"},attrs:{id:"infoint"}},[e._v("名字重复")])],1),e._v(" "),a("el-form-item",{attrs:{label:"付款分类",prop:"SupplierClass"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.SupplierClass,callback:function(t){e.$set(e.form,"SupplierClass",t)},expression:"form.SupplierClass"}},[a("el-option",{attrs:{label:"1供应商",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"2员工",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"3外包人员",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"SupplierCon"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.SupplierCon,callback:function(t){e.$set(e.form,"SupplierCon",t)},expression:"form.SupplierCon"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定添加")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.formModify.ReceivablesName,visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{ref:"formModify",staticClass:"demo-ruleForm",attrs:{model:e.formModify,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"付款名称",prop:"SupplierName"}},[a("el-input",{model:{value:e.formModify.SupplierName,callback:function(t){e.$set(e.formModify,"SupplierName",t)},expression:"formModify.SupplierName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款分类",prop:"SupplierClass"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.SupplierClass,callback:function(t){e.$set(e.formModify,"SupplierClass",t)},expression:"formModify.SupplierClass"}},[a("el-option",{attrs:{label:"1供应商",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"2员工",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"3外包人员",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"SupplierCon"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formModify.SupplierCon,callback:function(t){e.$set(e.formModify,"SupplierCon",t)},expression:"formModify.SupplierCon"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormModify("formModify")}}},[e._v("更新")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},on:{click:e.deletepost}},[e._v("删除")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"SupplierList",data:e.tableData_s,border:""},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierName",label:"付款名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierCon",label:"备注",sortable:""}})],1)],1)},staticRenderFns:[]},w=a("VU/8")(C,N,!1,null,null,null).exports,M={data:function(){return{tableData_s:[],table:[],inputData:"",public:[],Customerlist:[],tableData:[],dialogAddVisible:!1,dialogFormVisible:!1,formModify:{},TransactionList:{},formTransactionCon:"",formTransactionList:[],form:{CustomerName:"",CustomerContent:""},rules:{CustomerName:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},props:{map:{}},watch:{},mounted:function(){this.getdata()},methods:{submitFormModify:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updatpostData()})},updatpostData:function(){var e=this;return this.jsondata.updatpostData("customerlist",this.formModify).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.getdata())}).catch(function(e){console.log(e)}),!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},postData:function(){var e=this;return this.jsondata.postData("customerlist",this.form).then(function(t){"OK"===t.data&&(console.log(t.data,e.form),e.dialogFormVisible=!1,e.getdata(),e.resetForm("form"))}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.jsondata.getData("customerlist").then(function(t){e.tableData=t.data,e.tableData_s=e.tableData}).catch(function(e){console.log(e)}),!1},deletepost:function(){var e=this;this.jsondata.deletepost("customerlist",this.formModify.id).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.getdata())}).catch(function(e){console.log(e)})},handle:function(e,t,a){var o=this;return this.dialogAddVisible=!0,this.jsondata.getDataId("customerlist",e.id).then(function(e){o.formModify=e.data[0],console.log(o.formModify)}).catch(function(e){console.log(e)}),!1},play:function(e){var t=this;t.table=t.tableData.filter(function(a){if(a.CustomerName.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    客户列表"+e._s(this.$route.params.id)+"\n    "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{onclick:"exportExcel('#Customerlist')"}},[e._v("点击导出")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",float:"right","margin-right":"0px"},attrs:{placeholder:"请输入搜索内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加客户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"CustomerName"}},[a("el-input",{model:{value:e.form.CustomerName,callback:function(t){e.$set(e.form,"CustomerName",t)},expression:"form.CustomerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"CustomerContent"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.CustomerContent,callback:function(t){e.$set(e.form,"CustomerContent",t)},expression:"form.CustomerContent"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定添加")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.formModify.ReceivablesName,visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{ref:"formModify",staticClass:"demo-ruleForm",attrs:{model:e.formModify,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"CustomerName"}},[a("el-input",{model:{value:e.formModify.CustomerName,callback:function(t){e.$set(e.formModify,"CustomerName",t)},expression:"formModify.CustomerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"CustomerContent"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formModify.CustomerContent,callback:function(t){e.$set(e.formModify,"CustomerContent",t)},expression:"formModify.CustomerContent"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormModify("formModify")}}},[e._v("更新")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},on:{click:e.deletepost}},[e._v("删除")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"Customerlist",data:e.tableData_s,border:""},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CustomerName",label:"客户名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"CustomerContent",label:"备注",sortable:""}})],1)],1)},staticRenderFns:[]},$=a("VU/8")(M,F,!1,null,null,null).exports,A={data:function(){return{Receivablesnb:0,kaifapiao:0,projectcon:{CustomerName:"",projectId:"",ReceivablesName:"",number:"",Receivables:0,Receivablesend:"",kaifapiao:"",ReceivablesData:""},zhongshouru:"",weishoukuan:"",public:[],tableData:[]}},props:{map:{}},watch:{},mounted:function(){this.getdata()},methods:{getdata:function(){var e=this;return this.jsondata.getDataClass("projectlist","0","complete").then(function(t){e.jsondata.getData("revenuecontract").then(function(a){e.jsondata.getData("receivables").then(function(o){e.jsondata.getData("customerlist").then(function(i){for(var l=0;l<t.data.length;l++)for(var r=0;r<a.data.length;r++)if(t.data[l].id==a.data[r].projectId){for(var n=0;n<o.data.length;n++)o.data[n].projectId==a.data[r].id&&(e.Receivablesnb+=Number(o.data[n].Receivables),e.kaifapiao+=Number(o.data[n].invoice));e.projectcon=a.data[r],e.projectcon.Receivablesend=e.jsondata.currency(Number(a.data[r].number)-Number(e.Receivablesnb),"￥",2),e.projectcon.CustomerName=t.data[l].CustomerName,e.projectcon.number=e.jsondata.currency(e.projectcon.number,"￥",2),e.projectcon.invoice=e.jsondata.currency(e.kaifapiao-e.Receivablesnb,"￥",2),e.projectcon.Receivables=e.jsondata.currency(e.Receivablesnb,"￥",2),e.projectcon.projectIdthis=e.projectcon.projectId,e.projectcon.projectId=t.data[l].projectName,e.tableData.push(e.projectcon),e.Receivablesnb=0,e.kaifapiao=0}e.dataList=e.jsondata.getSpanArr(e.tableData,"projectId"),e.tableData=e.jsondata.fordata(i.data,e.tableData,"CustomerName","CustomerName")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},handle:function(e,t,a){this.$router.push("/ProjectDetails/"+e.projectIdthis)},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a||1===a){var o=this.dataList[t];return{rowspan:o,colspan:o>0?1:0}}}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    收入列表\n    "),a("el-button",{staticStyle:{float:"right","margin-right":"0px"},attrs:{onclick:"exportExcel('#Receivableslist')"}},[e._v("点击导出")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"Receivableslist",data:e.tableData,border:"","highligth-current-row":"","summary-method":e.jsondata.getSummaries,height:"90%","show-summary":"","span-method":e.objectSpanMethod,fixed:""},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{prop:"projectId",label:"项目名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CustomerName",label:"签约公司"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesName",label:"项目内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"合同金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"到账金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未收金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"已开发票未收款",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesData",label:"签约时间",sortable:""}})],1)],1)},staticRenderFns:[]},I=a("VU/8")(A,V,!1,null,null,null).exports,z={data:function(){return{Receivablesnb:0,bujikaifapiao:0,kaifapiao:0,zhongshouru:"",weishoukuan:"",projectName:"",Customerlist:[],tableData:[]}},props:{map:{}},watch:{},mounted:function(){this.getdata()},methods:{getdata:function(){var e=this;return this.jsondata.getDataClass("projectlist","0","complete").then(function(t){e.jsondata.getData("expenditure").then(function(a){e.jsondata.getData("expendituredata").then(function(o){e.jsondata.getData("supplierlist").then(function(i){e.jsondata.getData("expenditureclass").then(function(l){for(var r=0;r<t.data.length;r++)for(var n=0;n<a.data.length;n++)if(t.data[r].id==a.data[n].projectId){for(var s=0;s<o.data.length;s++)o.data[s].projectId==a.data[n].id&&("不计发票"==o.data[s].invoicebo?e.bujikaifapiao+=Number(o.data[s].number):e.kaifapiao+=Number(o.data[s].invoice),e.Receivablesnb+=Number(o.data[s].Receivables));e.projectcon=a.data[n],"不计发票"==a.data[n].invoicebo?e.projectcon.invoice="不计发票":e.projectcon.invoice=e.jsondata.currency(e.Receivablesnb-e.kaifapiao,"￥",2),e.projectcon.Receivablesend=e.jsondata.currency(Number(a.data[n].number)-Number(e.Receivablesnb),"￥",2),e.projectcon.number=e.jsondata.currency(e.projectcon.number,"￥",2),e.projectcon.Receivables=e.jsondata.currency(e.Receivablesnb,"￥",2),e.projectcon.projectId=t.data[r].projectName,e.tableData.push(e.projectcon),e.Receivablesnb=0,e.kaifapiao=0}e.dataList=e.jsondata.getSpanArr(e.tableData,"projectId"),e.tableData=e.jsondata.fordata(i.data,e.tableData,"SupplierName","SupplierName"),e.tableData=e.jsondata.fordata(l.data,e.tableData,"expenditureClass","projectClass")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},handle:function(e,t,a){},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex){var a=this.dataList[t];return{rowspan:a,colspan:a>0?1:0}}}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",{staticStyle:{color:"#333"}},[e._v("\n    支出列表\n  ")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","span-method":e.objectSpanMethod,"summary-method":e.jsondata.getSummaries,"show-summary":""},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectId",label:"项目名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierName",label:"收款方"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesName",label:"项目内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应支付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已支付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未支付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"已付款未收发票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectClass",label:"支出类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contractdate",label:"签约日期"}})],1)],1)},staticRenderFns:[]},T=a("VU/8")(z,E,!1,null,null,null).exports,L={data:function(){return{imageUrlbo:!1,imageUrl:"",upimgaction:"http://localhost:3000/uploads",outerVisible:!1,weikaifapiao:0,projectName:"",public:[],Customerlist:[],tableData:[],dialogAddVisible:!1,dialogFormVisible:!1,formModify:{id:"",ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",projectId:this.$route.params.id,Receivableslist:""},TransactionList:{},formTransactionCon:"",formTransactionList:[],formTransaction:{MoneyClass:"",CollectMoney:"",AmountMoney:"",invoice:"",projectId:this.$route.params.id},form:{ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",projectId:this.$route.params.id,Receivableslist:""},rules:{ReceivablesName:[{required:!0,message:"请输入收款名称",trigger:"blur"}]}}},props:{map:{}},watch:{},mounted:function(){window.location.host.match("localhost")?this.upimgaction="http://localhost:3000/uploads":this.upimgaction="/uploads",this.getdata(),this.getFormDataPojname()},methods:{getimgurl:function(){window.open("http://"+window.location.host+"/uploads/"+this.formModify.ReceivablesData,"target","")},handleAvatarSuccess:function(e,t){this.form.ReceivedData=e.filename,this.formModify.ReceivedData=e.filename,this.imageUrlbo=!0,this.$message.success("上传资料成功,请保存修改!")},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"application/pdf"===e.type;return t||this.$message.error("上传资料格式错误!"),t},submitFormModify:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updatpostData()})},updatpostData:function(){var e=this;return this.jsondata.updatpostData("revenuecontract",this.formModify).then(function(t){e.dialogAddVisible=!1,e.getdata()}).catch(function(e){console.log(e)}),!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},postData:function(){var e=this;return this.jsondata.postData("revenuecontract",this.form).then(function(t){console.log(t.data,e.form),"OK"===t.data&&(console.log(t.data,e.form),e.dialogFormVisible=!1,e.getdata(),e.resetForm("form"))}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.weikaifapiao=0,this.jsondata.getData("receivables").then(function(t){e.formTransactionList=t.data,e.jsondata.getDataClass("revenuecontract",e.$route.params.id,"projectId").then(function(t){e.tableData=t.data;for(var a=0;a<e.tableData.length;a++){e.tableData[a].Receivables=0,e.tableData[a].invoice=0,e.tableData[a].Receivablesend=0,e.tableData[a].weikaifapiao=0;for(var o=0;o<e.formTransactionList.length;o++)e.tableData[a].id==e.formTransactionList[o].projectId&&(e.tableData[a].Receivables+=Number(e.formTransactionList[o].Receivables),e.tableData[a].invoice+=Number(e.formTransactionList[o].invoice));e.tableData[a].weikaifapiao=e.jsondata.currency(Number(e.tableData[a].invoice)-Number(e.tableData[a].Receivables),"￥",2),e.tableData[a].Receivablesend=e.jsondata.currency(e.tableData[a].number-e.tableData[a].Receivables,"￥",2),e.tableData[a].Receivables=e.jsondata.currency(e.tableData[a].Receivables,"￥",2),e.tableData[a].invoice=e.jsondata.currency(e.tableData[a].invoice,"￥",2),e.tableData[a].number=e.jsondata.currency(e.tableData[a].number,"￥",2)}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},deletepost:function(){var e=this;this.jsondata.deletepost("revenuecontract",this.formModify.id).then(function(t){console.log(t.data),"OK"===t.data&&(e.dialogAddVisible=!1,e.outerVisible=!1,e.getdata())}).catch(function(e){console.log(e)})},handleClick:function(e){this.$router.push("/Receivables/"+e.id)},handle:function(e){var t=this;return this.dialogAddVisible=!0,this.jsondata.getDataId("revenuecontract",e.id).then(function(e){t.formModify=e.data[0],""===t.formModify.ReceivedData?t.imageUrlbo=!1:t.imageUrlbo=!0}).catch(function(e){console.log(e)}),!1},postFormData:function(e,t){return this.jsondata.postData(e,t).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)}),!1},getFormData:function(e){var t=this;this.jsondata.getData("getposts").then(function(e){return t.public=e,t.public}).catch(function(e){console.log(e)})},getFormDataPojname:function(){var e=this;this.jsondata.getDataId("projectlist",this.$route.params.id).then(function(t){e.projectName=t.data[0].projectName}).catch(function(e){console.log(e)})},goToHome:function(){this.$router.push("/ProjectDetails/"+this.$route.params.id)}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:e.goToHome}},[e._v(e._s(this.projectName)+"-项目 > ")]),e._v("合同列表\n    "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0,e.imageUrlbo=!1,e.form.ReceivablesData=""}}},[e._v("添加合同")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{onclick:"exportExcel('#RevenueContract')"}},[e._v("点击导出")])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加收款",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"合同名称",prop:"ReceivablesName"}},[a("el-input",{model:{value:e.form.ReceivablesName,callback:function(t){e.$set(e.form,"ReceivablesName",t)},expression:"form.ReceivablesName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签约时间",prop:"ReceivablesData"}},[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.ReceivablesData,callback:function(t){e.$set(e.form,"ReceivablesData",t)},expression:"form.ReceivablesData"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收款方式",prop:"ReceivablesMode"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.ReceivablesMode,callback:function(t){e.$set(e.form,"ReceivablesMode",t)},expression:"form.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"应收金额",prop:"number"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无合同",prop:"contract"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.contract,callback:function(t){e.$set(e.form,"contract",t)},expression:"form.contract"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"无"}})],1),e._v(" "),a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.Receivableslist,callback:function(t){e.$set(e.form,"Receivableslist",t)},expression:"form.Receivableslist"}},[a("el-option",{attrs:{label:"1期",value:"1期"}}),e._v(" "),a("el-option",{attrs:{label:"2期",value:"2期"}}),e._v(" "),a("el-option",{attrs:{label:"3期",value:"3期"}}),e._v(" "),a("el-option",{attrs:{label:"4期",value:"4期"}}),e._v(" "),a("el-option",{attrs:{label:"5期",value:"5期"}}),e._v(" "),a("el-option",{attrs:{label:"6期",value:"6期"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.Remarks,callback:function(t){e.$set(e.form,"Remarks",t)},expression:"form.Remarks"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"原件"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.upimgaction,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.imageUrlbo?a("el-button",{staticStyle:{"vertical-align":"top","margin-left":"20px"},on:{click:function(t){return e.getimgurl()}}},[e._v("查看原件")]):e._e()],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定添加")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改合同",visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{ref:"formModify",staticClass:"demo-ruleForm",attrs:{model:e.formModify,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"合同名称",prop:"ReceivablesName"}},[a("el-input",{model:{value:e.formModify.ReceivablesName,callback:function(t){e.$set(e.formModify,"ReceivablesName",t)},expression:"formModify.ReceivablesName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签约时间",prop:"ReceivablesData"}},[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formModify.ReceivablesData,callback:function(t){e.$set(e.formModify,"ReceivablesData",t)},expression:"formModify.ReceivablesData"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收款方式",prop:"ReceivablesMode"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.ReceivablesMode,callback:function(t){e.$set(e.formModify,"ReceivablesMode",t)},expression:"formModify.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"应收金额",prop:"number"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.formModify.number,callback:function(t){e.$set(e.formModify,"number",t)},expression:"formModify.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无合同",prop:"contract"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.contract,callback:function(t){e.$set(e.formModify,"contract",t)},expression:"formModify.contract"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"无"}})],1),e._v(" "),a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.Receivableslist,callback:function(t){e.$set(e.formModify,"Receivableslist",t)},expression:"formModify.Receivableslist"}},[a("el-option",{attrs:{label:"1期",value:"1期"}}),e._v(" "),a("el-option",{attrs:{label:"2期",value:"2期"}}),e._v(" "),a("el-option",{attrs:{label:"3期",value:"3期"}}),e._v(" "),a("el-option",{attrs:{label:"4期",value:"4期"}}),e._v(" "),a("el-option",{attrs:{label:"5期",value:"5期"}}),e._v(" "),a("el-option",{attrs:{label:"6期",value:"6期"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formModify.Remarks,callback:function(t){e.$set(e.formModify,"Remarks",t)},expression:"formModify.Remarks"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"原件"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.upimgaction,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.imageUrlbo?a("el-button",{staticStyle:{"vertical-align":"top","margin-left":"20px"},on:{click:function(t){return e.getimgurl()}}},[e._v("查看原件")]):e._e()],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormModify("formModify")}}},[e._v("更新")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.outerVisible=!0}}},[e._v("删除收款")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"确认删除",visible:e.outerVisible,"append-to-body":""},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-button",{on:{click:function(t){e.outerVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{on:{click:e.deletepost}},[e._v("删除")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"RevenueContract",data:e.tableData,border:"","summary-method":e.jsondata.getSummaries,"show-summary":""}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesName",label:"合同名称",width:"300",sortable:""},on:{"cell-click":e.handle}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivableslist",label:"收款分期",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"同合金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesData",label:"签约时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"到账金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未收金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"开出发票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"weikaifapiao",label:"已开票未收款",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.row)}}},[e._v("收款")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle(t.row)}}},[e._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]},B=a("VU/8")(L,O,!1,null,null,null).exports,U={data:function(){return{imageUrlbo:!1,imageUrl:"",upimgaction:"http://localhost:3000/uploads",outerVisible:!1,tableData_s:[],table:[],inputData:"",boxvalue:!0,boxvalue1:!1,hetongjiner:0,yingshou:0,zongshouru:0,weishou:0,biujifapiao:0,weikaifapiao:0,formbf:[],projectName:"",Customerlist:[],tableData:[],dialogAddVisible:!1,dialogFormVisible:!1,formModify:{},TransactionList:{},formTransactionCon:"",formTransactionList:[],formTransaction:{MoneyClass:"",CollectMoney:"",AmountMoney:"",invoice:"",projectId:this.$route.params.id},form:{ReceivablesName:"",projectId:this.$route.params.id,number:"",ReceivablesData:"",contract:"",Remarks:"",invoice:"",invoicebo:"",kaifapiaodate:"",daozhangdate:"",Receivables:"",OtherParty:"",ReceivablesMode:"",contractdate:"",projectClass:""},optionsprojectClass:[],optionsOtherParty:[],rules:{ReceivablesName:[{required:!0,message:"付款名称",trigger:"blur"}],Receivableslist:[{required:!0,message:"付款分期",trigger:"blur"}]}}},props:{map:{}},watch:{form:{handler:function(e,t){"不计发票"==e.invoicebo?(this.form.invoice="",this.boxvalue=!1):this.boxvalue=!0,"不分期"==e.Receivableslist?this.boxvalue1=!0:(this.boxvalue1=!1,this.form.Receivables="")},deep:!0},formModify:{handler:function(e,t){"不计发票"==e.invoicebo?(this.formModify.invoice="",this.boxvalue=!1):this.boxvalue=!0,"不分期"==e.Receivableslist?this.boxvalue1=!0:(this.formModify.Receivables="",this.boxvalue1=!1)},deep:!0}},mounted:function(){window.location.host.match("localhost")?this.upimgaction="http://localhost:3000/uploads":this.upimgaction="/uploads",this.getdata(),this.getFormData("supplierlist"),this.getFormDataClass("expenditureclass"),this.getFormDataPojname()},methods:{getimgurl:function(){window.open("http://"+window.location.host+"/uploads/"+this.formModify.ReceivablesData,"target","")},handleAvatarSuccess:function(e,t){this.form.ReceivablesData=e.filename,this.formModify.ReceivablesData=e.filename,this.imageUrlbo=!0,this.$message.success("上传资料成功,请保存修改!")},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"application/pdf"===e.type;return t||this.$message.error("上传资料格式错误!"),t},submitFormModify:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updatpostData()})},updatpostData:function(){var e=this;return Number(this.formModify.SupplierName)<99999||(this.formModify.SupplierName=this.formbf.SupplierName),Number(this.formModify.projectClass)<99999||(this.formModify.projectClass=this.formbf.projectClass),this.jsondata.updatpostData("expenditure",this.formModify).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.getdata())}).catch(function(e){console.log(e)}),!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},postData:function(){var e=this;return this.jsondata.postData("expenditure",this.form).then(function(t){"OK"===t.data&&(e.dialogFormVisible=!1,e.getdata(),e.resetForm("form"))}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.hetongjiner=0,this.yingshou=0,this.zongshouru=0,this.weishou=0,this.weikaifapiao=0,this.biujifapiao=0,this.jsondata.getDataClass("expenditure",this.$route.params.id,"projectId").then(function(t){e.tableData=t.data,e.jsondata.getData("expendituredata").then(function(t){e.formTransactionList=t.data;for(var a=0;a<e.tableData.length;a++){if("不计发票"==e.tableData[a].invoicebo&&(e.biujifapiao+=Number(e.tableData[a].Receivables),e.tableData[a].invoice=e.tableData[a].invoicebo,e.tableData[a].weikaifapiao=e.tableData[a].invoicebo),e.tableData[a].Receivableslistbo="","不分期"==e.tableData[a].Receivableslist);else{e.tableData[a].Receivableslistbo="分"+e.tableData[a].Receivableslist+"付款",e.tableData[a].Receivables=0,e.tableData[a].invoice=0,e.tableData[a].weikaifapiao=0,e.tableData[a].Receivablesend=0;for(var o=0;o<e.formTransactionList.length;o++)e.tableData[a].id==e.formTransactionList[o].projectId&&("不计发票"==e.formTransactionList[o].invoicebo?e.biujifapiao+=Number(e.formTransactionList[o].Receivables):e.tableData[a].invoice+=Number(e.formTransactionList[o].invoice),e.tableData[a].Receivables+=Number(e.formTransactionList[o].Receivables))}e.tableData[a].weikaifapiao=e.jsondata.currency(Number(e.tableData[a].Receivables)-Number(e.tableData[a].invoice),"￥",2),e.tableData[a].invoice=e.jsondata.currency(e.tableData[a].invoice,"￥",2),e.tableData[a].Receivablesend=e.jsondata.currency((e.tableData[a].number-e.tableData[a].Receivables).toFixed(2),"￥",2),e.tableData[a].number=e.jsondata.currency(e.tableData[a].number,"￥",2),e.tableData[a].Receivables=e.jsondata.currency(e.tableData[a].Receivables,"￥",2)}e.tableData_s=e.tableData,e.jsondata.getData("supplierlist").then(function(t){e.tableData=e.jsondata.fordata(t.data,e.tableData,"SupplierName","SupplierName"),e.jsondata.getData("expenditureclass").then(function(t){e.tableData=e.jsondata.fordata(t.data,e.tableData,"expenditureClass","projectClass")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},deletepost:function(){var e=this;this.jsondata.deletepost("expenditure",this.formModify.id).then(function(t){"OK"===t.data&&(e.dialogAddVisible=!1,e.outerVisible=!1,e.getdata())}).catch(function(e){console.log(e)})},handleClick:function(e){this.$router.push("/expenditure/"+e.id)},handle:function(e,t,a){var o=this;return this.dialogAddVisible=!0,this.jsondata.getDataId("expenditure",e.id).then(function(t){o.formModify=t.data[0],o.formModify.SupplierName=e.SupplierName,o.formModify.projectClass=e.projectClass,""===o.formModify.ReceivablesData?o.imageUrlbo=!1:o.imageUrlbo=!0}).catch(function(e){console.log(e)}),this.jsondata.getDataId("expenditure",e.id).then(function(e){o.formbf=e.data[0]}).catch(function(e){console.log(e)}),!1},getFormData:function(e){var t=this;this.jsondata.getData(e).then(function(e){t.optionsOtherParty=e.data}).catch(function(e){console.log(e)})},getFormDataClass:function(e){var t=this;this.jsondata.getData(e).then(function(e){t.optionsprojectClass=e.data}).catch(function(e){console.log(e)})},getFormDataPojname:function(){var e=this;this.jsondata.getDataId("projectlist",this.$route.params.id).then(function(t){e.projectName=t.data[0].projectName}).catch(function(e){console.log(e)})},goToHome:function(){this.$router.push("/projectdetails/"+this.$route.params.id)},play:function(e){var t=this;t.table=t.tableData.filter(function(a){if(a.SupplierName.includes(e)||a.ReceivablesName.includes(e)||a.projectClass.includes(e)||a.contractdate.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",{staticStyle:{color:"#333"}},[a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:e.goToHome}},[e._v(e._s(this.projectName))]),e._v(" > 支出列表\n    "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0,e.imageUrlbo=!1,e.form.ReceivablesData=""}}},[e._v("添加支出")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{onclick:"exportExcel('#expenditureContractlist')"}},[e._v("点击导出")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",float:"right","margin-right":"0px"},attrs:{placeholder:"请输入搜索内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加支出",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"付款名称",prop:"ReceivablesName"}},[a("el-input",{model:{value:e.form.ReceivablesName,callback:function(t){e.$set(e.form,"ReceivablesName",t)},expression:"form.ReceivablesName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应付金额",prop:"number"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签约日期",prop:"contractdate"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.contractdate,callback:function(t){e.$set(e.form,"contractdate",t)},expression:"form.contractdate"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"有无合同",prop:"contract"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.contract,callback:function(t){e.$set(e.form,"contract",t)},expression:"form.contract"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"无"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分期",prop:"Receivableslist"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.Receivableslist,callback:function(t){e.$set(e.form,"Receivableslist",t)},expression:"form.Receivableslist"}},[a("el-option",{attrs:{label:"1期",value:"1期"}}),e._v(" "),a("el-option",{attrs:{label:"2期",value:"2期"}}),e._v(" "),a("el-option",{attrs:{label:"3期",value:"3期"}}),e._v(" "),a("el-option",{attrs:{label:"4期",value:"4期"}}),e._v(" "),a("el-option",{attrs:{label:"5期",value:"5期"}}),e._v(" "),a("el-option",{attrs:{label:"6期",value:"6期"}}),e._v(" "),a("el-option",{attrs:{label:"不分期",value:"不分期"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付款方式",prop:"ReceivablesMode"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.ReceivablesMode,callback:function(t){e.$set(e.form,"ReceivablesMode",t)},expression:"form.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1)],1),e._v(" "),e.boxvalue1?a("el-form-item",{attrs:{label:"付款金额",prop:"Receivables"}},[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.daozhangdate,callback:function(t){e.$set(e.form,"daozhangdate",t)},expression:"form.daozhangdate"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.form.Receivables,callback:function(t){e.$set(e.form,"Receivables",t)},expression:"form.Receivables"}})],1):e._e(),e._v(" "),e.boxvalue1?a("el-form-item",{attrs:{label:"收到发票",prop:"invoice"}},[e.boxvalue?a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.kaifapiaodate,callback:function(t){e.$set(e.form,"kaifapiaodate",t)},expression:"form.kaifapiaodate"}})],1):e._e(),e._v(" "),e.boxvalue?a("el-input",{staticStyle:{width:"25%"},attrs:{type:"number"},model:{value:e.form.invoice,callback:function(t){e.$set(e.form,"invoice",t)},expression:"form.invoice"}}):e._e(),e._v(" "),a("el-select",{staticStyle:{width:"20%"},attrs:{placeholder:"请选择"},model:{value:e.form.invoicebo,callback:function(t){e.$set(e.form,"invoicebo",t)},expression:"form.invoicebo"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"不计发票",value:"不计发票"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"收款方",filterable:"",prop:"SupplierName"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.SupplierName,callback:function(t){e.$set(e.form,"SupplierName",t)},expression:"form.SupplierName"}},e._l(e.optionsOtherParty,function(e){return a("el-option",{key:e.SupplierName,attrs:{label:e.SupplierName,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付款类别",prop:"projectClass"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.form.projectClass,callback:function(t){e.$set(e.form,"projectClass",t)},expression:"form.projectClass"}},e._l(e.optionsprojectClass,function(e){return a("el-option",{key:e.expenditureClass,attrs:{label:e.expenditureClass,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.Remarks,callback:function(t){e.$set(e.form,"Remarks",t)},expression:"form.Remarks"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"原件"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.upimgaction,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.imageUrlbo?a("el-button",{staticStyle:{"vertical-align":"top","margin-left":"20px"},on:{click:function(t){return e.getimgurl()}}},[e._v("查看原件")]):e._e()],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定添加")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"支出内容",visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{ref:"formModify",staticClass:"demo-ruleForm",attrs:{model:e.formModify,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"付款名称",prop:"ReceivablesName"}},[a("el-input",{model:{value:e.formModify.ReceivablesName,callback:function(t){e.$set(e.formModify,"ReceivablesName",t)},expression:"formModify.ReceivablesName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应付金额",prop:"number"}},[a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.formModify.number,callback:function(t){e.$set(e.formModify,"number",t)},expression:"formModify.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签约日期",prop:"contractdate"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formModify.contractdate,callback:function(t){e.$set(e.formModify,"contractdate",t)},expression:"formModify.contractdate"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付款方式",prop:"ReceivablesMode"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.ReceivablesMode,callback:function(t){e.$set(e.formModify,"ReceivablesMode",t)},expression:"formModify.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"有无合同",prop:"contract"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.contract,callback:function(t){e.$set(e.formModify,"contract",t)},expression:"formModify.contract"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"无"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分期",prop:"Receivableslist"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.Receivableslist,callback:function(t){e.$set(e.formModify,"Receivableslist",t)},expression:"formModify.Receivableslist"}},[a("el-option",{attrs:{label:"1期",value:"1期"}}),e._v(" "),a("el-option",{attrs:{label:"2期",value:"2期"}}),e._v(" "),a("el-option",{attrs:{label:"3期",value:"3期"}}),e._v(" "),a("el-option",{attrs:{label:"4期",value:"4期"}}),e._v(" "),a("el-option",{attrs:{label:"5期",value:"5期"}}),e._v(" "),a("el-option",{attrs:{label:"6期",value:"6期"}}),e._v(" "),a("el-option",{attrs:{label:"不分期",value:"不分期"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付款方式",prop:"ReceivablesMode"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.ReceivablesMode,callback:function(t){e.$set(e.formModify,"ReceivablesMode",t)},expression:"formModify.ReceivablesMode"}},[a("el-option",{attrs:{label:"现金",value:"现金"}}),e._v(" "),a("el-option",{attrs:{label:"银行",value:"银行"}})],1)],1),e._v(" "),e.boxvalue1?a("el-form-item",{attrs:{label:"付款金额",prop:"Receivables"}},[a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formModify.daozhangdate,callback:function(t){e.$set(e.formModify,"daozhangdate",t)},expression:"formModify.daozhangdate"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"46%"},attrs:{type:"number"},model:{value:e.formModify.Receivables,callback:function(t){e.$set(e.formModify,"Receivables",t)},expression:"formModify.Receivables"}}),e._v(" "),a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.formModify.Receivables=e.formModify.number}}},[e._v("付款")])],1):e._e(),e._v(" "),e.boxvalue1?a("el-form-item",{attrs:{label:"收到发票",prop:"invoice"}},[e.boxvalue?a("el-col",{staticStyle:{"margin-right":"10px",width:"30%"},attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formModify.kaifapiaodate,callback:function(t){e.$set(e.formModify,"kaifapiaodate",t)},expression:"formModify.kaifapiaodate"}})],1):e._e(),e._v(" "),e.boxvalue?a("el-input",{staticStyle:{width:"25.5%"},attrs:{type:"number"},model:{value:e.formModify.invoice,callback:function(t){e.$set(e.formModify,"invoice",t)},expression:"formModify.invoice"}}):e._e(),e._v(" "),a("el-select",{staticStyle:{width:"20%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.invoicebo,callback:function(t){e.$set(e.formModify,"invoicebo",t)},expression:"formModify.invoicebo"}},[a("el-option",{attrs:{label:"有",value:"有"}}),e._v(" "),a("el-option",{attrs:{label:"不计发票",value:"不计发票"}})],1),e._v(" "),e.boxvalue?a("el-button",{staticStyle:{width:"15%"},attrs:{type:"primary"},on:{click:function(t){e.formModify.invoice=e.formModify.number}}},[e._v("开发票")]):e._e()],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"收款方",prop:"SupplierName"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formModify.SupplierName,callback:function(t){e.$set(e.formModify,"SupplierName",t)},expression:"formModify.SupplierName"}},e._l(e.optionsOtherParty,function(e){return a("el-option",{key:e.SupplierName,attrs:{label:e.SupplierName,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"付款类别",prop:"projectClass"}},[a("el-select",{staticStyle:{width:"46%"},attrs:{placeholder:"请选择"},model:{value:e.formModify.projectClass,callback:function(t){e.$set(e.formModify,"projectClass",t)},expression:"formModify.projectClass"}},e._l(e.optionsprojectClass,function(e){return a("el-option",{key:e.expenditureClass,attrs:{label:e.expenditureClass,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formModify.Remarks,callback:function(t){e.$set(e.formModify,"Remarks",t)},expression:"formModify.Remarks"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"原件"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.upimgaction,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.imageUrlbo?a("el-button",{staticStyle:{"vertical-align":"top","margin-left":"20px"},on:{click:function(t){return e.getimgurl()}}},[e._v("查看原件")]):e._e()],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormModify("formModify")}}},[e._v("更新")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.outerVisible=!0}}},[e._v("删除收款")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"确认删除",visible:e.outerVisible,"append-to-body":""},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-button",{on:{click:function(t){e.outerVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{on:{click:e.deletepost}},[e._v("删除")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData_s,border:"","summary-method":e.jsondata.getSummaries,"show-summary":"",id:"expenditureContractlist",height:"90%"}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierName",label:"付款名称",width:"300",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesName",label:"应付内容",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应支付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"contractdate",label:"签约时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已支付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未支付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"收到发票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"weikaifapiao",label:"已付未收票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectClass",label:"支出类别",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.row)}}},[e._v(e._s(t.row.Receivableslistbo))]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle(t.row)}}},[e._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]},P=a("VU/8")(U,H,!1,null,null,null).exports,q={data:function(){return{tableData_s:[],table:[],inputData:"",inputSearchS:"",biujifapiao:"",weikaifapiao:"",thisdata:{},dataList:[],contentsint:"",contentsintp:"",Customerlist:[],tableData:[],optionsproject:[],dialogTableVisible:!1,dialogFormVisible:!1,form:{projectName:"",projectContent:"",CustomerName:"",ContractAmount:"",ContractDate:"",ExpenditureBudget:""},fromexpenditureData:[],fromprojectList:[],fromexpenditure:[],fromsupplierlist:[],formReceivables:[]}},props:{map:{}},watch:{},mounted:function(){this.getdata()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){console.log(this.form)},postData:function(){var e=this;return this.jsondata.postData("projectList",this.form).then(function(t){"OK"===t.statusText&&(e.getdata(),e.dialogFormVisible=!1)}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.biujifapiao=0,this.weikaifapiao=0,this.jsondata.getData("expendituredata").then(function(t){e.fromexpenditureData=t.data,e.jsondata.getDataClass("projectlist","0","complete").then(function(t){e.fromprojectList=t.data,e.jsondata.getData("expenditure").then(function(t){e.jsondata.getData("supplierlist").then(function(a){e.jsondata.getData("expenditureclass").then(function(o){for(var i=0;i<e.fromprojectList.length;i++)for(var l=0;l<t.data.length;l++)if(e.fromprojectList[i].id==t.data[l].projectId)for(var r=0;r<a.data.length;r++)t.data[l].SupplierName==a.data[r].id&&e.fromexpenditure.push(t.data[l]);for(var n=0;n<e.fromexpenditure.length;n++){e.fromexpenditure[n].kaifapiao=0,e.fromexpenditure[n].biujifapiao=0,"不分期"!=e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].number=0,e.fromexpenditure[n].Receivables=0);for(var s=0;s<o.data.length;s++)o.data[s].id==e.fromexpenditure[n].projectClass&&(e.fromexpenditure[n].projectClass=o.data[s].expenditureClass);for(var c=0;c<e.fromexpenditureData.length;c++)e.fromexpenditure[n].id==e.fromexpenditureData[c].projectId&&("不分期"==e.fromexpenditure[n].Receivableslist||(e.fromexpenditure[n].number+=Number(e.fromexpenditureData[c].number),e.fromexpenditure[n].Receivables+=Number(e.fromexpenditureData[c].Receivables)),"不计发票"==e.fromexpenditureData[c].invoicebo?e.fromexpenditure[n].biujifapiao+=Number(e.fromexpenditureData[c].Receivables):e.fromexpenditure[n].kaifapiao+=Number(e.fromexpenditureData[c].invoice));"不分期"==e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].kaifapiao=e.fromexpenditure[n].invoice),"不计发票"==e.fromexpenditure[n].invoicebo&&"不分期"==e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].biujifapiao+=Number(e.fromexpenditure[n].Receivables)),e.fromexpenditure[n].Receivablesend=Number(e.fromexpenditure[n].number)-Number(e.fromexpenditure[n].Receivables)}e.fromsupplierlist=a.data;for(var u=0;u<e.fromsupplierlist.length;u++){e.fromsupplierlist[u].invoice=0,e.fromsupplierlist[u].number=0,e.fromsupplierlist[u].Receivables=0,e.fromsupplierlist[u].kaifapiao=0,e.fromsupplierlist[u].Receivablesend=0,e.fromsupplierlist[u].biujifapiao=0;for(var d=0;d<e.fromexpenditure.length;d++)e.fromexpenditure[d].SupplierName==e.fromsupplierlist[u].id&&(e.fromsupplierlist[u].number+=Number(e.fromexpenditure[d].number),e.fromsupplierlist[u].Receivables+=Number(e.fromexpenditure[d].Receivables),e.fromsupplierlist[u].kaifapiao+=Number(e.fromexpenditure[d].kaifapiao),e.fromsupplierlist[u].Receivablesend+=Number(e.fromexpenditure[d].Receivablesend),e.fromsupplierlist[u].biujifapiao+=Number(e.fromexpenditure[d].biujifapiao));e.fromsupplierlist[u].Receivablesbfb=(Number(e.fromsupplierlist[u].Receivables)/Number(e.fromsupplierlist[u].number)*100).toFixed(2)+"%",e.fromsupplierlist[u].weishoufapiao=e.jsondata.currency(e.fromsupplierlist[u].Receivables-e.fromsupplierlist[u].kaifapiao-e.fromsupplierlist[u].biujifapiao,"￥",2),e.fromsupplierlist[u].number=e.jsondata.currency(e.fromsupplierlist[u].number,"￥",2),e.fromsupplierlist[u].Receivables=e.jsondata.currency(e.fromsupplierlist[u].Receivables,"￥",2),e.fromsupplierlist[u].Receivablesend=e.jsondata.currency(e.fromsupplierlist[u].Receivablesend,"￥",2),e.fromsupplierlist[u].kaifapiao=e.jsondata.currency(e.fromsupplierlist[u].kaifapiao,"￥",2),e.fromsupplierlist[u].biujifapiao=e.jsondata.currency(e.fromsupplierlist[u].biujifapiao,"￥",2),1===e.fromsupplierlist[u].SupplierClass&&(e.fromsupplierlist[u].SupplierClass=e.fromsupplierlist[u].SupplierClass+"供应商"),3===e.fromsupplierlist[u].SupplierClass&&(e.fromsupplierlist[u].SupplierClass=e.fromsupplierlist[u].SupplierClass+"外包人员"),2===e.fromsupplierlist[u].SupplierClass&&delete e.fromsupplierlist[u]}e.tableData_s=e.fromsupplierlist}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},handle:function(e,t,a){this.$router.push("/SupplierDatalist/"+e.id),console.log(e.id)},play:function(e){var t=this;t.table=t.fromsupplierlist.filter(function(a){if(a.SupplierName.includes(e)||a.number.includes(e)||a.Receivables.includes(e)||a.SupplierClass.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    供应商及外包例表\n    "),a("el-button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{onclick:"exportExcel('#gongyingshangliebiao')"}},[e._v("点击导出")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",float:"right"},attrs:{placeholder:"请输入搜索内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData_s,id:"gongyingshangliebiao",border:"","summary-method":e.jsondata.getSummaries,"show-summary":"",height:"90%"},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierName",label:"供应商名称",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesbfb",label:"已付比例",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"kaifapiao",label:"已收发票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"weishoufapiao",label:"已付款未收发票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierClass",label:"分类",sortable:""}})],1)],1)},staticRenderFns:[]},G=a("VU/8")(q,K,!1,null,null,null).exports,J={data:function(){return{contentsint:"",contentsintp:"",Customerlist:[],tableData:[],optionsproject:[],dialogTableVisible:!1,dialogFormVisible:!1,form:{projectName:"",projectContent:"",CustomerName:"",ContractAmount:"",ContractDate:"",ExpenditureBudget:""},formexpenditureData:[],formReceivables:[],rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],ContractAmount:[{required:!0,message:"请输入合同金额"},{type:"number",message:"金额必需为数额"}],ContractDate:[{required:!0,message:"请选择签约日期",trigger:"blur"}]}}},props:{map:{}},watch:{},mounted:function(){this.getdata(),this.getFormData("customerlist")},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){console.log(this.form)},postData:function(){var e=this;return this.jsondata.postData("projectlist",this.form).then(function(t){"OK"===t.statusText&&(e.getdata(),e.dialogFormVisible=!1)}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.jsondata.getDataClass("projectlist","0","complete").then(function(t){e.tableData=t.data;for(var a=0;a<e.tableData.length;a++)e.tableData[a].ContractDate=t.data[a].ContractDate.substr(0,10),e.tableData[a].Receivables=0;e.getdataReceivables()}).catch(function(e){console.log(e)}),!1},handle:function(e,t,a){this.$router.push("/ProjectDetails/"+e.id),console.log(e.id)},getFormData:function(e){var t=this;this.jsondata.getData(e).then(function(e){t.optionsproject=e.data}).catch(function(e){console.log(e)})},getdataReceivables:function(){var e=this;return this.jsondata.getData("receivables").then(function(t){e.jsondata.getData("revenuecontract").then(function(a){e.jsondata.getData("expenditure").then(function(o){e.jsondata.getData("expendituredata").then(function(i){for(var l=0;l<e.tableData.length;l++){e.tableData[l].Receivables=0,e.tableData[l].expenditure=0,e.tableData[l].ExpenditureBudget=0;for(var r=0;r<a.data.length;r++)for(var n=0;n<t.data.length;n++)a.data[r].id===t.data[n].projectId&&Number(a.data[r].projectId)===Number(e.tableData[l].id)&&(e.tableData[l].Receivables+=Number(t.data[n].Receivables));for(var s=0;s<o.data.length;s++){o.data[s].expenditure=0,e.tableData[l].id===o.data[s].projectId&&(e.tableData[l].ExpenditureBudget+=Number(o.data[s].number));for(var c=0;c<i.data.length;c++)o.data[s].id===i.data[c].projectId&&Number(o.data[s].projectId)===Number(e.tableData[l].id)&&(o.data[s].expenditure+=Number(i.data[c].Receivables));"不分期"===o.data[s].Receivableslist&&Number(o.data[s].projectId)===Number(e.tableData[l].id)?e.tableData[l].expenditure+=Number(o.data[s].Receivables):e.tableData[l].expenditure+=o.data[s].expenditure}e.tableData[l].profit=e.jsondata.currency(Number(e.tableData[l].ContractAmount)-Number(e.tableData[l].ExpenditureBudget),"￥",2),e.tableData[l].ExpenditureBudget=e.jsondata.currency(e.tableData[l].ExpenditureBudget,"￥",2),e.tableData[l].expenditure=e.jsondata.currency(e.tableData[l].expenditure,"￥",2),e.tableData[l].Receivables=e.jsondata.currency(e.tableData[l].Receivables,"￥",2),e.tableData[l].ContractAmount=e.jsondata.currency(Number(e.tableData[l].ContractAmount),"￥",2)}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    利润报表\n    "),a("el-button",{staticStyle:{float:"right","margin-right":"0px"},attrs:{onclick:"exportExcel('#profitlist')"}},[e._v("点击导出")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"profitlist",data:e.tableData,border:"","summary-method":e.jsondata.getSummaries,height:"90%","show-summary":""},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ContractDate",label:"签约时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ContractAmount",label:"项目金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已收金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ExpenditureBudget",label:"应付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"expenditure",label:"已付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"profit",label:"利润",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectContent",label:"项目说明",sortable:""}})],1)],1)},staticRenderFns:[]},Q=a("VU/8")(J,W,!1,null,null,null).exports,X={data:function(){return{tableData_s:[],table:[],inputData:"",inputSearchS:"",biujifapiao:"",weikaifapiao:"",thisdata:{},dataList:[],contentsint:"",contentsintp:"",Customerlist:[],tableData:[],optionsproject:[],dialogTableVisible:!1,dialogFormVisible:!1,form:{projectName:"",projectContent:"",CustomerName:"",ContractAmount:"",ContractDate:"",ExpenditureBudget:""},fromexpenditureData:[],fromprojectList:[],fromexpenditure:[],fromsupplierlist:[],formReceivables:[]}},props:{map:{}},watch:{},mounted:function(){this.getdata()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){console.log(this.form)},postData:function(){var e=this;return this.jsondata.postData("projectList",this.form).then(function(t){"OK"===t.statusText&&(e.getdata(),e.dialogFormVisible=!1)}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.biujifapiao=0,this.weikaifapiao=0,this.jsondata.getData("expendituredata").then(function(t){e.fromexpenditureData=t.data,e.jsondata.getDataClass("projectlist","0","complete").then(function(t){e.fromprojectList=t.data,e.jsondata.getData("expenditure").then(function(t){e.jsondata.getDataClass("supplierlist","3","supplierClass").then(function(a){e.jsondata.getData("expenditureclass").then(function(o){for(var i=0;i<e.fromprojectList.length;i++)for(var l=0;l<t.data.length;l++)if(e.fromprojectList[i].id==t.data[l].projectId)for(var r=0;r<a.data.length;r++)t.data[l].SupplierName==a.data[r].id&&e.fromexpenditure.push(t.data[l]);for(var n=0;n<e.fromexpenditure.length;n++){e.fromexpenditure[n].kaifapiao=0,e.fromexpenditure[n].biujifapiao=0,"不分期"!=e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].number=0,e.fromexpenditure[n].Receivables=0);for(var s=0;s<o.data.length;s++)o.data[s].id==e.fromexpenditure[n].projectClass&&(e.fromexpenditure[n].projectClass=o.data[s].expenditureClass);for(var c=0;c<e.fromexpenditureData.length;c++)e.fromexpenditure[n].id==e.fromexpenditureData[c].projectId&&("不计发票"==e.fromexpenditureData[c].invoicebo?e.fromexpenditure[n].biujifapiao+=Number(e.fromexpenditureData[c].Receivables):e.fromexpenditure[n].kaifapiao+=Number(e.fromexpenditureData[c].invoice),"不分期"==e.fromexpenditure[n].Receivableslist||(e.fromexpenditure[n].number+=Number(e.fromexpenditureData[c].number),e.fromexpenditure[n].Receivables+=Number(e.fromexpenditureData[c].Receivables)));"不分期"==e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].kaifapiao=e.fromexpenditure[n].invoice),"不计发票"==e.fromexpenditure[n].invoicebo&&"不分期"==e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].biujifapiao+=Number(e.fromexpenditure[n].Receivables)),e.fromexpenditure[n].Receivablesend=Number(e.fromexpenditure[n].number)-Number(e.fromexpenditure[n].Receivables)}e.fromsupplierlist=a.data;for(var u=0;u<e.fromsupplierlist.length;u++){e.fromsupplierlist[u].invoice=0,e.fromsupplierlist[u].number=0,e.fromsupplierlist[u].Receivables=0,e.fromsupplierlist[u].kaifapiao=0,e.fromsupplierlist[u].Receivablesend=0,e.fromsupplierlist[u].biujifapiao=0;for(var d=0;d<e.fromexpenditure.length;d++)e.fromexpenditure[d].SupplierName==e.fromsupplierlist[u].id&&(e.fromsupplierlist[u].number+=Number(e.fromexpenditure[d].number),e.fromsupplierlist[u].Receivables+=Number(e.fromexpenditure[d].Receivables),e.fromsupplierlist[u].kaifapiao+=Number(e.fromexpenditure[d].kaifapiao),e.fromsupplierlist[u].Receivablesend+=Number(e.fromexpenditure[d].Receivablesend),e.fromsupplierlist[u].biujifapiao+=Number(e.fromexpenditure[d].biujifapiao));e.fromsupplierlist[u].weishoufapiao=e.jsondata.currency(e.fromsupplierlist[u].Receivables-e.fromsupplierlist[u].kaifapiao-e.fromsupplierlist[u].biujifapiao,"￥",2),e.fromsupplierlist[u].number=e.jsondata.currency(e.fromsupplierlist[u].number,"￥",2),e.fromsupplierlist[u].Receivables=e.jsondata.currency(e.fromsupplierlist[u].Receivables,"￥",2),e.fromsupplierlist[u].Receivablesend=e.jsondata.currency(e.fromsupplierlist[u].Receivablesend,"￥",2),e.fromsupplierlist[u].kaifapiao=e.jsondata.currency(e.fromsupplierlist[u].kaifapiao,"￥",2)}e.tableData_s=e.fromsupplierlist}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},handle:function(e,t,a){this.$router.push("/SupplierDatalist/"+e.id),console.log(e.id)},play:function(e){var t=this;t.table=t.fromsupplierlist.filter(function(a){if(a.SupplierName.includes(e)||a.number.includes(e)||a.Receivables.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    外包例表"),a("el-button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{onclick:"exportExcel('#gongyingshangliebiao')"}},[e._v("点击导出")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",float:"right"},attrs:{placeholder:"请输入搜索内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData_s,id:"gongyingshangliebiao",border:"","summary-method":e.jsondata.getSummaries,"show-summary":"",height:"90%"},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierName",label:"供应商名称",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"kaifapiao",label:"已收发票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"weishoufapiao",label:"已付款未收发票",sortable:""}})],1)],1)},staticRenderFns:[]},Z=a("VU/8")(X,Y,!1,null,null,null).exports,ee={data:function(){return{inputSearchS:"",biujifapiao:"",weikaifapiao:"",thisdata:{},dataList:[],contentsint:"",contentsintp:"",Customerlist:[],tableData:[],optionsproject:[],dialogTableVisible:!1,dialogFormVisible:!1,form:{projectName:"",projectContent:"",CustomerName:"",ContractAmount:"",ContractDate:"",ExpenditureBudget:""},fromexpenditureData:[],fromprojectList:[],fromexpenditure:[],tableData_s:[],table:[],inputData:"",fromsupplierlist:[],formReceivables:[]}},props:{map:{}},watch:{},mounted:function(){this.getdata()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){console.log(this.form)},postData:function(){var e=this;return this.jsondata.postData("projectList",this.form).then(function(t){"OK"===t.statusText&&(e.getdata(),e.dialogFormVisible=!1)}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.biujifapiao=0,this.weikaifapiao=0,this.jsondata.getData("expendituredata").then(function(t){e.fromexpenditureData=t.data,e.jsondata.getDataClass("projectlist","0","complete").then(function(t){e.fromprojectList=t.data,e.jsondata.getData("expenditure").then(function(t){e.jsondata.getDataClass("supplierlist","2","supplierClass").then(function(a){e.jsondata.getData("expenditureclass").then(function(o){for(var i=0;i<e.fromprojectList.length;i++)for(var l=0;l<t.data.length;l++)if(e.fromprojectList[i].id==t.data[l].projectId)for(var r=0;r<a.data.length;r++)t.data[l].SupplierName==a.data[r].id&&e.fromexpenditure.push(t.data[l]);for(var n=0;n<e.fromexpenditure.length;n++){e.fromexpenditure[n].kaifapiao=0,e.fromexpenditure[n].biujifapiao=0,"不分期"!=e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].number=0,e.fromexpenditure[n].Receivables=0);for(var s=0;s<o.data.length;s++)o.data[s].id==e.fromexpenditure[n].projectClass&&(e.fromexpenditure[n].projectClass=o.data[s].expenditureClass);for(var c=0;c<e.fromexpenditureData.length;c++)e.fromexpenditure[n].id==e.fromexpenditureData[c].projectId&&("不计发票"==e.fromexpenditureData[c].invoicebo?e.fromexpenditure[n].biujifapiao+=Number(e.fromexpenditureData[c].Receivables):e.fromexpenditure[n].kaifapiao+=Number(e.fromexpenditureData[c].invoice),"不分期"==e.fromexpenditure[n].Receivableslist||(e.fromexpenditure[n].number+=Number(e.fromexpenditureData[c].number),e.fromexpenditure[n].Receivables+=Number(e.fromexpenditureData[c].Receivables)));"不分期"==e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].kaifapiao=e.fromexpenditure[n].invoice),"不计发票"==e.fromexpenditure[n].invoicebo&&"不分期"==e.fromexpenditure[n].Receivableslist&&(e.fromexpenditure[n].biujifapiao+=Number(e.fromexpenditure[n].Receivables)),e.fromexpenditure[n].Receivablesend=Number(e.fromexpenditure[n].number)-Number(e.fromexpenditure[n].Receivables)}e.fromsupplierlist=a.data;for(var u=0;u<e.fromsupplierlist.length;u++){e.fromsupplierlist[u].invoice=0,e.fromsupplierlist[u].number=0,e.fromsupplierlist[u].Receivables=0,e.fromsupplierlist[u].kaifapiao=0,e.fromsupplierlist[u].Receivablesend=0,e.fromsupplierlist[u].biujifapiao=0;for(var d=0;d<e.fromexpenditure.length;d++)e.fromexpenditure[d].SupplierName==e.fromsupplierlist[u].id&&(e.fromsupplierlist[u].number+=Number(e.fromexpenditure[d].number),e.fromsupplierlist[u].Receivables+=Number(e.fromexpenditure[d].Receivables),e.fromsupplierlist[u].kaifapiao+=Number(e.fromexpenditure[d].kaifapiao),e.fromsupplierlist[u].Receivablesend+=Number(e.fromexpenditure[d].Receivablesend),e.fromsupplierlist[u].biujifapiao+=Number(e.fromexpenditure[d].biujifapiao));e.fromsupplierlist[u].weishoufapiao=e.jsondata.currency(e.fromsupplierlist[u].Receivables-e.fromsupplierlist[u].kaifapiao-e.fromsupplierlist[u].biujifapiao,"￥",2),e.fromsupplierlist[u].number=e.jsondata.currency(e.fromsupplierlist[u].number,"￥",2),e.fromsupplierlist[u].Receivables=e.jsondata.currency(e.fromsupplierlist[u].Receivables,"￥",2),e.fromsupplierlist[u].Receivablesend=e.jsondata.currency(e.fromsupplierlist[u].Receivablesend,"￥",2),e.fromsupplierlist[u].kaifapiao=e.jsondata.currency(e.fromsupplierlist[u].kaifapiao,"￥",2)}e.tableData_s=e.fromsupplierlist}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},handle:function(e,t,a){this.$router.push("/SupplierDatalist/"+e.id),console.log(e.id)},play:function(e){var t=this;t.table=t.fromsupplierlist.filter(function(a){if(a.SupplierName.includes(e)||a.number.includes(e)||a.Receivables.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    员工例表\n    "),a("el-button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{onclick:"exportExcel('#gongyingshangliebiao')"}},[e._v("点击导出")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",float:"right"},attrs:{placeholder:"请输入搜索内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData_s,id:"gongyingshangliebiao",border:"","summary-method":e.jsondata.getSummaries,"show-summary":"",height:"90%"},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SupplierName",label:"名称",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"kaifapiao",label:"已收发票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"weishoufapiao",label:"已付款未收发票",sortable:""}})],1)],1)},staticRenderFns:[]},ae=a("VU/8")(ee,te,!1,null,null,null).exports,oe={data:function(){return{Suppliertitle:"",biujifapiao:"",weikaifapiao:"",thisdata:{},dataList:[],dataList1:[],dataList2:[],contentsint:"",contentsintp:"",Customerlist:[],tableData:[],optionsproject:[],dialogTableVisible:!1,dialogFormVisible:!1,form:{projectName:"",projectContent:"",CustomerName:"",ContractAmount:"",ContractDate:"",ExpenditureBudget:""},fromexpenditureData:[],fromprojectList:[],fromexpenditure:[],fromsupplierlist:[],formReceivables:[]}},props:{map:{}},watch:{},mounted:function(){this.getdata()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postData()})},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(){console.log(this.form)},postData:function(){var e=this;return this.jsondata.postData("projectList",this.form).then(function(t){"OK"===t.statusText&&(e.getdata(),e.dialogFormVisible=!1)}).catch(function(e){console.log(e)}),!1},getdata:function(){var e=this;return this.biujifapiao=0,this.weikaifapiao=0,this.jsondata.getData("expendituredata").then(function(t){t.data=t.data.sort(function(e,t){return(e.Receivableslist+"").localeCompare(t.Receivableslist+"")}),e.jsondata.getDataClass("projectlist","0","complete").then(function(a){e.jsondata.getData("expenditure").then(function(o){e.jsondata.getDataClass("supplierlist",e.$route.params.id,"id").then(function(i){e.jsondata.getData("expenditureclass").then(function(l){for(var r=0;r<a.data.length;r++)for(var n=0;n<o.data.length;n++){for(var s=0;s<t.data.length;s++)a.data[r].id===o.data[n].projectId&&Number(t.data[s].projectId)===Number(o.data[n].id)&&o.data[n].SupplierName===e.$route.params.id&&(t.data[s].hetongid=o.data[n].id,t.data[s].projectdata=o.data[n].contractdate,t.data[s].projectlist=a.data[r].projectName,t.data[s].projectname=o.data[n].ReceivablesName,t.data[s].listid=o.data[n].id,t.data[s].weikaifapiao=Number(t.data[s].Receivables)-Number(t.data[s].invoice),t.data[s].porjectidset=a.data[r].id,""!=o.data[n].number?(t.data[s].projectnumber=Number(o.data[n].number),o.data[n].number=""):t.data[s].projectnumber=0,"不计发票"===t.data[s].invoicebo?t.data[s].biujifapiao=Number(t.data[s].Receivables):t.data[s].biujifapiao=0,o.data[n].Receivableslist,e.tableData.push(t.data[s]));"不分期"===o.data[n].Receivableslist&&o.data[n].SupplierName===e.$route.params.id&&a.data[r].id===o.data[n].projectId&&(o.data[n].listid=o.data[n].id,o.data[n].projectdata=o.data[n].contractdate,o.data[n].projectlist=a.data[r].projectName,o.data[n].projectname=o.data[n].ReceivablesName,o.data[n].projectnumber=o.data[n].number,o.data[n].weikaifapiao=Number(o.data[n].Receivables)-Number(o.data[n].invoice),o.data[n].porjectidset=a.data[r].id,o.data[n].hetongid=o.data[n].id,e.tableData.push(o.data[n]))}for(var c=0;c<e.tableData.length;c++){if(e.tableData[c].weikaifapiao=0,e.tableData[c].number>1){e.tableData[c].Receivablesend=Number(e.tableData[c].number);for(var u=0;u<e.tableData.length;u++)e.tableData[c].Receivableslist==e.tableData[u].Receivableslist&&e.tableData[c].projectname==e.tableData[u].projectname&&e.tableData[c].listid==e.tableData[u].listid&&(e.tableData[c].Receivablesend-=Number(e.tableData[u].Receivables),"不计发票"===e.tableData[c].invoicebo?(e.tableData[c].biujifapiao=Number(e.tableData[c].Receivables),e.tableData[c].weikaifapiao=0):e.tableData[c].weikaifapiao+=Number(e.tableData[u].Receivables)-Number(e.tableData[u].invoice))}else e.tableData[c].Receivablesend="";e.tableData[c].weikaifapiao=e.jsondata.currency(e.tableData[c].weikaifapiao,"￥",2),e.tableData[c].Receivablesend=e.jsondata.currency(e.tableData[c].Receivablesend,"￥",2),e.tableData[c].Receivables=e.jsondata.currency(e.tableData[c].Receivables,"￥",2),e.tableData[c].number=e.jsondata.currency(e.tableData[c].number,"￥",2),""===e.tableData[c].invoice?e.tableData[c].kaifapiaodate="":e.tableData[c].invoice=e.jsondata.currency(e.tableData[c].invoice,"￥",2),e.tableData[c].projectnumber=e.jsondata.currency(e.tableData[c].projectnumber,"￥",2),e.tableData[c].biujifapiao=e.jsondata.currency(e.tableData[c].biujifapiao,"￥",2)}e.tableData=e.tableData.sort(function(e,t){return(e.listid+"").localeCompare(t.listid+"")}),e.tableData=e.tableData.sort(function(e,t){return(e.projectlist+"").localeCompare(t.projectlist+"")}),e.Suppliertitle=i.data[0].SupplierName,e.dataList=e.jsondata.getSpanArr(e.tableData,"projectlist"),e.dataList1=e.getSpanArrs(e.tableData,"listid","projectId"),e.dataList2=e.getSpanArrss(e.tableData,"Receivableslist","listid","projectId")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),!1},handle:function(e,t,a){this.$router.push("/expenditureContract/"+e.porjectidset)},getSpanArrss:function(e,t,a,o){this.spanArr=[];for(var i=0;i<e.length;i++)0===i?(this.spanArr.push(1),this.pos=0):e[i][t]===e[i-1][t]&&e[i][a]===e[i-1][a]&&e[i][o]===e[i-1][o]?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=i);return this.spanArr},getSpanArrs:function(e,t,a){this.spanArr=[];for(var o=0;o<e.length;o++)0===o?(this.spanArr.push(1),this.pos=0):e[o][t]===e[o-1][t]&&e[o][a]===e[o-1][a]?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=o);return this.spanArr},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(6===a||4===a||5===a||9===a||12===a){var o=this.dataList2[t];return{rowspan:o,colspan:o>0?1:0}}if(0===a){var i=this.dataList[t];return{rowspan:i,colspan:i>0?1:0}}if(1===a||2===a||3===a){var l=this.dataList1[t];return{rowspan:l,colspan:l>0?1:0}}}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[e._v("\n    "+e._s(this.Suppliertitle)),a("el-button",{staticStyle:{float:"right","margin-right":"0px"},attrs:{onclick:"exportExcel('#gongyingshangxiangxi')"}},[e._v("点击导出")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",id:"gongyingshangxiangxi","summary-method":e.jsondata.getSummaries,"span-method":e.objectSpanMethod,"show-summary":"",height:"90%"},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{prop:"projectlist",label:"所属项目"}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectname",label:"应付内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectdata",label:"签约日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectnumber",label:"应付总额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivableslist",label:"应付分期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesData",label:"应付时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"分期应付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"已付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"daozhangdate",label:"付款时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivablesend",label:"未付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"已收发票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"kaifapiaodate",label:"开票时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"weikaifapiao",label:"已付款未收票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"biujifapiao",label:"不计发票"}})],1)],1)},staticRenderFns:[]},le=a("VU/8")(oe,ie,!1,null,null,null).exports,re=a("Av7u"),ne=a.n(re),se={data:function(){return{saveDays:"",logintext:"",infoLogin:!1,form:{username:"",password:""},loginForm:{username:"",password:""},userToken:"",rules:{username:[{required:!0,message:"请输入帐号",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"}]}}},methods:{resetForm:function(){this.$refs.form.resetFields()},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.postData()})},postData:function(){var e=this;this.loginForm.password=ne.a.AES.encrypt(this.form.password,"bigmind").toString(),this.loginForm.username=this.form.username,this.jsondata.postlogin(this.loginForm).then(function(t){"登陆失败"===t.data?(e.infoLogin=!0,document.getElementById("infoLogin").innerHTML="登陆失败"):("bigmindjz"===e.form.username?(sessionStorage.setItem("Token","1602668909527"),sessionStorage.setItem("user",e.loginForm.username)):(sessionStorage.setItem("Token",t.data),sessionStorage.setItem("class",t.class),sessionStorage.setItem("user",e.loginForm.username)),e.jsondata.postDatabf("login","login"),e.$router.push("/index"))}).catch(function(e){console.log(e)})}}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("\n    记账系统\n  ")]),e._v(" "),a("el-form",{ref:"form",staticClass:"demo-ruleForm",staticStyle:{width:"300px",margin:"auto"},attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"帐号",prop:"username"}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("登录")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"center",color:"#f00"},attrs:{id:"infoLogin"}})],1)},staticRenderFns:[]};var ue=a("VU/8")(se,ce,!1,function(e){a("g7On")},null,null).exports,de={data:function(){return{boxvalue2:!0,boxvalue:!0,titleSupplierName:"",hetongjiner:0,yingshou:0,zongshouru:0,weishou:0,weikaifapiao:0,projectNameid:"",projectName:"",table:[],Customerlist:[],inputData:"",tableData_s:[],tableData:[],dialogAddVisible:!1,dialogFormVisible:!1,formModify:{id:"",ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",Receivablesend:"",projectId:"",daozhangdate:"",kaifapiaodate:"",invoice:"",invoicebo:"",supplielist:"",Receivables:""},TransactionList:{},formTransactionCon:"",formTransactionList:[],formTransaction:{MoneyClass:"",CollectMoney:"",AmountMoney:"",invoice:"",projectId:this.$route.params.id},income:{},form:{ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",projectId:this.$route.params.id,invoice:"",Receivableslist:"",Receivables:"",daozhangdate:"",kaifapiaodate:"",supplielist:"",projectlist:""},dataList:[],rules:{}}},props:{map:{}},mounted:function(){this.getdata()},methods:{getdata:function(){var e=this;return this.jsondata.getData("expendituredata").then(function(t){e.tableData=t.data,e.tableData=e.tableData.sort(function(e,t){return(e.Receivableslist+"").localeCompare(t.Receivableslist+"")})}).catch(function(e){console.log(e)}),!1},play:function(e){var t=this;t.table=t.tableData.filter(function(a){if(a.Receivables.includes(e)||a.invoice.includes(e)||a.number.includes(e)||a.ReceivablesData.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table},handle:function(e){this.$router.push("/expenditure/"+e.projectId)}}},pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[a("el-input",{attrs:{placeholder:"请输入内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"expendituredata",data:e.tableData_s,border:"",height:"90%"},on:{"row-click":e.handle}},[a("el-table-column",{attrs:{prop:"Receivableslist",label:"付款分期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesData",label:"付款时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"付款金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"收到发票"}}),e._v(" "),a("el-table-column",{attrs:{prop:"daozhangdate",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contract",label:"合同"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesMode",label:""}})],1),e._v(" "),a("p",{staticStyle:{"text-align":"left","font-size":"15px",color:"#555","font-weight":"bold"},attrs:{type:"error"}})],1)},staticRenderFns:[]},fe=a("VU/8")(de,pe,!1,null,null,null).exports,be={data:function(){return{boxvalue2:!0,boxvalue:!0,titleSupplierName:"",hetongjiner:0,zongshouru:0,weishou:0,weikaifapiao:0,projectNameid:"",projectName:"",table:[],Customerlist:[],inputData:"",tableData_s:[],tableData:[],dialogAddVisible:!1,dialogFormVisible:!1,formModify:{id:"",ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",Receivablesend:"",projectId:"",daozhangdate:"",kaifapiaodate:"",invoice:"",invoicebo:"",supplielist:"",Receivables:""},TransactionList:{},formTransactionCon:"",formTransactionList:[],formTransaction:{MoneyClass:"",CollectMoney:"",AmountMoney:"",invoice:"",projectId:this.$route.params.id},income:{},form:{ReceivablesName:"",ReceivablesData:"",ReceivablesMode:"",number:"",contract:"",Remarks:"",projectId:this.$route.params.id,invoice:"",Receivableslist:"",Receivables:"",daozhangdate:"",kaifapiaodate:"",supplielist:"",projectlist:""},dataList:[],rules:{}}},props:{map:{}},mounted:function(){this.getdata()},methods:{getdata:function(){var e=this;return this.jsondata.getData("expenditure").then(function(t){e.tableData=t.data,e.tableData=e.tableData.sort(function(e,t){return(e.Receivableslist+"").localeCompare(t.Receivableslist+"")})}).catch(function(e){console.log(e)}),!1},play:function(e){var t=this;t.table=t.tableData.filter(function(a){if(null==a.Remarks&&(a.Remarks=""),a.number.includes(e)||a.invoice.includes(e)||a.Receivables.includes(e)||a.ReceivablesName.includes(e)||a.Remarks.includes(e))return t.table.push(a),t.table}),this.tableData_s=t.table}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"text-align":"left","line-height":"1.8em"}},[a("h3",[a("el-input",{attrs:{placeholder:"请输入内容"},on:{input:function(t){return e.play(e.inputData)}},model:{value:e.inputData,callback:function(t){e.inputData=t},expression:"inputData"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"expendituredata",data:e.tableData_s,border:"",height:"90%"}},[a("el-table-column",{attrs:{prop:"ReceivablesName",label:"付款名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"应付金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivables",label:"付款金额",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoice",label:"收到发票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoicebo",label:"发票",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"contractdate",label:"时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Receivableslist",label:"合同",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceivablesMode",label:"",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Remarks",label:"备注",sortable:""}})],1),e._v(" "),a("p",{staticStyle:{"text-align":"left","font-size":"15px",color:"#555","font-weight":"bold"},attrs:{type:"error"}})],1)},staticRenderFns:[]},ve=a("VU/8")(be,me,!1,null,null,null).exports,he={data:function(){return{imageUrl:"",upimgaction:"http://localhost:3000/uploads"}},mounted:function(){window.location.href.match("localhost")?this.upimgaction="http://localhost:3000/uploads":this.upimgaction="/uploads"},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},ge={render:function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.upimgaction,"show-file-list":!1,"on-success":this.handleAvatarSuccess,"before-upload":this.beforeAvatarUpload}},[this.imageUrl?t("img",{staticClass:"avatar",attrs:{src:this.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},staticRenderFns:[]},ye=a("VU/8")(he,ge,!1,null,null,null).exports,_e=a("mtWM"),De=a.n(_e);o.default.use(c.a);var je=new c.a({routes:[{path:"/ProjectDetails/:id",name:"ProjectDetails",components:{Nav:m,content:_}},{path:"/expenditure/:id",name:"expenditure",components:{Nav:m,content:S}},{path:"/RevenueContract/:id",name:"RevenueContract",components:{Nav:m,content:B}},{path:"/SupplierDatalist/:id",name:"SupplierDatalist",components:{Nav:m,content:le}},{path:"/searchpage",name:"searchpage",components:{Nav:m,content:fe}},{path:"/searchht",name:"searchht",components:{Nav:m,content:ve}},{path:"/stafflist",name:"stafflist",components:{Nav:m,content:Z}},{path:"/staff",name:"staff",components:{Nav:m,content:ae}},{path:"/upimg",name:"upimg",components:{Nav:m,content:ye}},{path:"/login",name:"login",components:{content:ue}},{path:"/expenditurelist",name:"expenditurelist",components:{Nav:m,content:T}},{path:"/profitlist",name:"profitlist",components:{Nav:m,content:Q}},{path:"/SupplierData",name:"SupplierData",components:{Nav:m,content:G}},{path:"/expenditureContract/:id",name:"expenditureContract",components:{Nav:m,content:P}},{path:"/index",name:"index",components:{Nav:m,content:p}},{path:"/Receivables/:id",name:"Receivables",components:{Nav:m,content:x}},{path:"/Receivableslist/",name:"Receivableslist",components:{Nav:m,content:I}},{path:"/SupplierList/",name:"SupplierList",components:{Nav:m,content:w}},{path:"/Customerlist/",name:"Customerlist",components:{Nav:m,content:$}}]});je.beforeEach(function(e,t,a){var o;o=window.location.href.match("localhost")?"http://localhost:3000":"","/login"===e.path?a():De()({url:o+"/getDatalogin/"+sessionStorage.getItem("Token"),method:"GET",dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e.data),"OK"===e.data?a():a("/login")}).catch(function(e){console.log(e)})});var xe=je,Re=a("zL8q"),ke=a.n(Re),Se=(a("tvR6"),a("mvHQ")),Ce=a.n(Se),Ne=function(e){return window.location.href.match("localhost")?"http://localhost:3000":""},we={fordata:function(e,t,a,o){for(var i=0;i<e.length;i++)for(var l=0;l<t.length;l++)e[i].id==t[l][o]&&(t[l][o]=e[i][a]);return t},getSpanArr:function(e,t){this.spanArr=[];for(var a=0;a<e.length;a++)0===a?(this.spanArr.push(1),this.pos=0):e[a][t]===e[a-1][t]?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=a);return this.spanArr},postlogin:function(e){return De()({url:Ne()+"/loigndata/",method:"POST",data:e,dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getDataId:function(e,t){return De()({url:Ne()+"/getpost/"+e+"/"+t+"/"+sessionStorage.getItem("Token"),method:"GET",dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getData:function(e){return De()({url:Ne()+"/getposts/"+e+"/"+sessionStorage.getItem("Token"),method:"GET",dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getDataClass:function(e,t,a){return De()({url:Ne()+"/getDataClass/"+e+"/"+t+"/"+a+"/"+sessionStorage.getItem("Token"),method:"GET",dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getDatalogin:function(e){return De()({url:Ne()+"/getDatalogin/"+e,method:"GET",dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},postData:function(e,t){if("zeng"===sessionStorage.getItem("user")||"lengfan"===sessionStorage.getItem("user"))return De()({url:Ne()+"/postdata/"+e+"/"+sessionStorage.getItem("Token"),method:"POST",data:t,dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deletepost:function(e,t){if("zeng"===sessionStorage.getItem("user")||"lengfan"===sessionStorage.getItem("user"))return De()({url:Ne()+"/deletepost/"+e+"/"+t+"/"+sessionStorage.getItem("user")+"/"+sessionStorage.getItem("Token"),method:"GET",dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},postDatabf:function(e,t){De()({url:Ne()+"/postdata/transaction/"+sessionStorage.getItem("Token"),method:"POST",data:{data:Ce()(e),projectId:sessionStorage.getItem("Token")+"-"+sessionStorage.getItem("user"),invoice:Date(),AmountMoney:t},dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},updatpostData:function(e,t){if("zeng"===sessionStorage.getItem("user")||"lengfan"===sessionStorage.getItem("user"))return De()({url:Ne()+"/updatpost/"+e+"/"+sessionStorage.getItem("Token"),method:"POST",data:t,dataType:"JSON",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},currency:function(e,t,a){if(e=parseFloat(e).toFixed(2),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:"$",a=null!=a?a:2;var o=Math.abs(e).toFixed(a),i=a?o.slice(0,-1-a):o,l=i.length%3,r=l>0?i.slice(0,l)+(i.length>3?",":""):"",n=a?o.slice(-1-a):"";return(e<0?"-":"")+t+r+i.slice(l).replace(/(\d{3})(?=\d)/g,"$1,")+n},getSummaries:function(e){var t=e.columns,a=e.data,o=[];for(var i in t.forEach(function(e,t){if(0!==t){for(var i=a.map(function(t){return t[e.property]}),l=0;l<i.length;l++)""!=i[l]&&void 0!=i[l]?(i[l]=Number(i[l].replace(/,|￥/g,"")),isNaN(i[l])&&(i[l]=0)):i[l]=Number(i[l]);i.every(function(e){return isNaN(e)})?o[t]="N/A":o[t]=i.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0)}else o[t]="合计"}),o)(o[i]>0||o[i]<0)&&(o[i]=this.jsondata.currency(o[i],"￥",2)),0===o[i]&&(o[i]="N/A");return o}};o.default.config.productionTip=!1,o.default.use(ke.a),o.default.prototype.jsondata=we,new o.default({el:"#app",router:xe,components:{App:s},template:"<App/>"})},QDfD:function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},X9nX:function(e,t){},ejIc:function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},eyf3:function(e,t){},g7On:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.81417d65577e24c427fe.js.map